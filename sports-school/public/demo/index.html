<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AI Instructors Demo - Universal One School</title>
    <link rel="stylesheet" href="/styles.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
    <style>
      .demo-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 2rem;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
      }

      .demo-header {
        text-align: center;
        color: white;
        margin-bottom: 3rem;
      }

      .demo-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 2rem;
        margin-bottom: 3rem;
      }

      .instructor-card {
        background: white;
        border-radius: 15px;
        padding: 2rem;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        transition:
          transform 0.3s ease,
          box-shadow 0.3s ease;
        cursor: pointer;
      }

      .instructor-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
      }

      .instructor-avatar {
        width: 80px;
        height: 80px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 2rem;
        color: white;
        margin: 0 auto 1rem;
      }

      .primary-theme {
        background: linear-gradient(135deg, #ff6b6b, #feca57);
      }
      .secondary-theme {
        background: linear-gradient(135deg, #667eea, #764ba2);
      }
      .law-theme {
        background: linear-gradient(135deg, #2c3e50, #34495e);
      }
      .language-theme {
        background: linear-gradient(135deg, #74b9ff, #0984e3);
      }

      .chat-demo {
        background: white;
        border-radius: 15px;
        padding: 2rem;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        margin-top: 2rem;
      }

      .chat-messages {
        height: 400px;
        overflow-y: auto;
        border: 1px solid #e1e5e9;
        border-radius: 10px;
        padding: 1rem;
        margin-bottom: 1rem;
        background: #f8f9fa;
      }

      .message {
        margin-bottom: 1rem;
        padding: 0.75rem 1rem;
        border-radius: 10px;
        max-width: 80%;
      }

      .user-message {
        background: #007bff;
        color: white;
        margin-left: auto;
      }

      .instructor-message {
        background: white;
        border: 1px solid #e1e5e9;
        margin-right: auto;
      }

      .adaptation-tags {
        display: flex;
        flex-wrap: wrap;
        gap: 0.5rem;
        margin-top: 0.5rem;
      }

      .adaptation-tag {
        background: #e3f2fd;
        color: #1976d2;
        padding: 0.25rem 0.75rem;
        border-radius: 15px;
        font-size: 0.75rem;
        font-weight: 500;
      }

      .profile-selector {
        background: white;
        border-radius: 10px;
        padding: 1.5rem;
        margin-bottom: 2rem;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
      }

      .profile-options {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 1rem;
        margin-top: 1rem;
      }

      .profile-option {
        padding: 1rem;
        border: 2px solid #e1e5e9;
        border-radius: 8px;
        cursor: pointer;
        transition: all 0.3s ease;
        text-align: center;
      }

      .profile-option.selected {
        border-color: #007bff;
        background: #f0f8ff;
      }

      .demo-controls {
        display: flex;
        gap: 1rem;
        margin-bottom: 1rem;
      }

      .chat-input {
        flex: 1;
        padding: 0.75rem;
        border: 1px solid #e1e5e9;
        border-radius: 8px;
        font-family: inherit;
      }

      .send-btn {
        padding: 0.75rem 1.5rem;
        background: #007bff;
        color: white;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        font-weight: 500;
      }

      .send-btn:hover {
        background: #0056b3;
      }

      .back-nav {
        position: absolute;
        top: 2rem;
        left: 2rem;
        color: white;
        text-decoration: none;
        font-weight: 500;
      }

      .back-nav:hover {
        color: #ffd700;
      }
    </style>
  </head>
  <body>
    <div class="demo-container">
      <a href="/" class="back-nav">
        <i class="fas fa-arrow-left"></i> Back to Universal One School
      </a>

      <div class="demo-header">
        <h1 style="font-size: 2.5rem; margin-bottom: 0.5rem">AI Instructors Demo</h1>
        <p style="font-size: 1.1rem; opacity: 0.9">
          Experience personalized learning with adaptive AI instructors
        </p>
      </div>

      <div class="profile-selector">
        <h3>Select Your Learning Profile</h3>
        <div class="profile-options">
          <div class="profile-option" data-profile="dyslexia">
            <i
              class="fas fa-eye"
              style="font-size: 1.5rem; color: #ff6b6b; margin-bottom: 0.5rem"
            ></i>
            <h4>Dyslexia Support</h4>
            <p>Visual learning, multi-sensory approaches</p>
          </div>
          <div class="profile-option" data-profile="adhd">
            <i
              class="fas fa-bolt"
              style="font-size: 1.5rem; color: #feca57; margin-bottom: 0.5rem"
            ></i>
            <h4>ADHD Support</h4>
            <p>Interactive activities, movement breaks</p>
          </div>
          <div class="profile-option" data-profile="autism">
            <i
              class="fas fa-puzzle-piece"
              style="font-size: 1.5rem; color: #74b9ff; margin-bottom: 0.5rem"
            ></i>
            <h4>Autism Support</h4>
            <p>Structured routines, clear expectations</p>
          </div>
          <div class="profile-option" data-profile="neurotypical">
            <i
              class="fas fa-graduation-cap"
              style="font-size: 1.5rem; color: #00b894; margin-bottom: 0.5rem"
            ></i>
            <h4>Standard Learning</h4>
            <p>Traditional teaching methods</p>
          </div>
        </div>
      </div>

      <div class="demo-grid">
        <div class="instructor-card" data-school="primary">
          <div class="instructor-avatar primary-theme">
            <i class="fas fa-mask"></i>
          </div>
          <h3>Captain Knowledge</h3>
          <p><strong>Primary School (K-6)</strong></p>
          <p>
            Superhero-themed elementary education with interactive stories and visual learning
            adventures.
          </p>
          <div class="adaptation-tags">
            <span class="adaptation-tag">Visual Learning</span>
            <span class="adaptation-tag">Interactive Stories</span>
            <span class="adaptation-tag">Adaptive Pace</span>
          </div>
        </div>

        <div class="instructor-card" data-school="secondary">
          <div class="instructor-avatar secondary-theme">
            <i class="fas fa-user-graduate"></i>
          </div>
          <h3>Dr. Mentor</h3>
          <p><strong>Secondary School (7-12)</strong></p>
          <p>Academic guidance and career counseling for adolescent learners with mature themes.</p>
          <div class="adaptation-tags">
            <span class="adaptation-tag">Project-Based</span>
            <span class="adaptation-tag">Self-Paced</span>
            <span class="adaptation-tag">Career Focused</span>
          </div>
        </div>

        <div class="instructor-card" data-school="law">
          <div class="instructor-avatar law-theme">
            <i class="fas fa-balance-scale"></i>
          </div>
          <h3>Professor Justice</h3>
          <p><strong>Law School</strong></p>
          <p>
            Professional legal education with case studies, simulations, and practical applications.
          </p>
          <div class="adaptation-tags">
            <span class="adaptation-tag">Case Studies</span>
            <span class="adaptation-tag">Simulations</span>
            <span class="adaptation-tag">Legal Writing</span>
          </div>
        </div>

        <div class="instructor-card" data-school="language">
          <div class="instructor-avatar language-theme">
            <i class="fas fa-globe"></i>
          </div>
          <h3>Professor Polyglot</h3>
          <p><strong>Language School</strong></p>
          <p>Multilingual education in English, German, and Spanish with cultural immersion.</p>
          <div class="adaptation-tags">
            <span class="adaptation-tag">Conversation</span>
            <span class="adaptation-tag">Cultural Context</span>
            <span class="adaptation-tag">Practical Usage</span>
          </div>
        </div>
      </div>

      <div class="chat-demo" id="chatDemo" style="display: none">
        <h3 id="currentInstructor">Chat with AI Instructor</h3>
        <div class="chat-messages" id="chatMessages">
          <div class="message instructor-message">
            <strong>Welcome!</strong> I'm here to help you learn. What would you like to study
            today?
          </div>
        </div>
        <div class="demo-controls">
          <input
            type="text"
            class="chat-input"
            id="chatInput"
            placeholder="Ask me anything about learning..."
            onkeypress="handleKeyPress(event)"
          />
          <button class="send-btn" onclick="sendMessage()">Send</button>
        </div>
        <button
          onclick="resetDemo()"
          style="
            margin-top: 1rem;
            padding: 0.5rem 1rem;
            background: #6c757d;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
          "
        >
          Reset Demo
        </button>
      </div>
    </div>

    <script>
      let currentSchool = null;
      let currentProfile = 'neurotypical';

      // Profile selection
      document.querySelectorAll('.profile-option').forEach((option) => {
        option.addEventListener('click', function () {
          document
            .querySelectorAll('.profile-option')
            .forEach((opt) => opt.classList.remove('selected'));
          this.classList.add('selected');
          currentProfile = this.dataset.profile;
        });
      });

      // Instructor selection
      document.querySelectorAll('.instructor-card').forEach((card) => {
        card.addEventListener('click', function () {
          currentSchool = this.dataset.school;
          document.getElementById('chatDemo').style.display = 'block';
          document.getElementById('currentInstructor').textContent =
            `Chat with ${this.querySelector('h3').textContent}`;

          // Clear previous messages and add welcome
          const messagesContainer = document.getElementById('chatMessages');
          messagesContainer.innerHTML = `
                    <div class="message instructor-message">
                        <strong>Hello!</strong> I'm ${this.querySelector('h3').textContent}. I've adapted my teaching style for your ${getProfileDescription(currentProfile)} learning needs. What would you like to learn today?
                        <div class="adaptation-tags">
                            ${getAdaptationTags(currentProfile)
                              .map((tag) => `<span class="adaptation-tag">${tag}</span>`)
                              .join('')}
                        </div>
                    </div>
                `;

          // Scroll to chat demo
          document.getElementById('chatDemo').scrollIntoView({ behavior: 'smooth' });
        });
      });

      function getProfileDescription(profile) {
        const descriptions = {
          dyslexia: 'dyslexia-friendly',
          adhd: 'ADHD-supportive',
          autism: 'autism-accommodating',
          neurotypical: 'standard',
        };
        return descriptions[profile] || 'personalized';
      }

      function getAdaptationTags(profile) {
        const adaptations = {
          dyslexia: ['Visual Learning Tools', 'Multi-sensory Approaches', 'Extended Time'],
          adhd: ['Movement Breaks', 'Interactive Activities', 'Immediate Feedback'],
          autism: ['Structured Routines', 'Clear Expectations', 'Visual Supports'],
          neurotypical: ['Balanced Approach', 'Multiple Learning Styles', 'Flexible Methods'],
        };
        return adaptations[profile] || ['Personalized Learning'];
      }

      function handleKeyPress(event) {
        if (event.key === 'Enter') {
          sendMessage();
        }
      }

      async function sendMessage() {
        const input = document.getElementById('chatInput');
        const message = input.value.trim();
        if (!message || !currentSchool) return;

        // Add user message
        addMessage(message, 'user');
        input.value = '';

        // Simulate instructor response
        try {
          const response = await fetch(`/api/instructor/${currentSchool}/chat`, {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
            },
            body: JSON.stringify({
              message: message,
              studentProfile: {
                learningDifferences: currentProfile !== 'neurotypical' ? [currentProfile] : [],
              },
              currentSubject: 'General Learning',
            }),
          });

          if (response.ok) {
            const data = await response.json();
            addMessage(data.message, 'instructor', data.adaptations);
          } else {
            addMessage("I'm here to help! Let me know what you'd like to learn.", 'instructor');
          }
        } catch (error) {
          addMessage("I'm here to help! Let me know what you'd like to learn.", 'instructor');
        }
      }

      function addMessage(text, sender, adaptations = []) {
        const messagesContainer = document.getElementById('chatMessages');
        const messageDiv = document.createElement('div');
        messageDiv.className = `message ${sender}-message`;

        let adaptationTags = '';
        if (adaptations && adaptations.length > 0) {
          adaptationTags = `
                    <div class="adaptation-tags">
                        ${adaptations.map((tag) => `<span class="adaptation-tag">${tag}</span>`).join('')}
                    </div>
                `;
        }

        messageDiv.innerHTML = `${text}${adaptationTags}`;
        messagesContainer.appendChild(messageDiv);
        messagesContainer.scrollTop = messagesContainer.scrollHeight;
      }

      function resetDemo() {
        document.getElementById('chatDemo').style.display = 'none';
        currentSchool = null;
        document
          .querySelectorAll('.profile-option')
          .forEach((opt) => opt.classList.remove('selected'));
        currentProfile = 'neurotypical';
      }

      // Initialize with neurotypical selected
      document.querySelector('[data-profile="neurotypical"]').classList.add('selected');
    </script>
  </body>
</html>
