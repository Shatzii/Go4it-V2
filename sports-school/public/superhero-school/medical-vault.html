<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Secure Medical Vault | ShotziOS Educational Platform</title>
    <style>
      /* Base styles optimized for dyslexia */
      :root {
        --bg-color: #0f0f1a;
        --text-color: #e6e6ff;
        --accent-color: #3498db;
        --accent-dark: #2980b9;
        --accent-light: #5dade2;
        --card-bg: #1a1a2e;
        --nav-bg: #141428;
        --success-color: #27ae60;
        --warning-color: #e67e22;
        --danger-color: #e74c3c;
        --secure-color: #9b59b6;
        --secure-dark: #8e44ad;
        --inactive-color: #7f8c8d;
        --header-height: 64px;
        --sidebar-width: 260px;
        --border-radius: 8px;
      }

      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }

      body {
        font-family: 'Open Dyslexic', 'Comic Sans MS', Arial, sans-serif;
        background-color: var(--bg-color);
        color: var(--text-color);
        line-height: 1.6;
        letter-spacing: 0.025em;
        word-spacing: 0.1em;
        padding-bottom: 60px;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 20px;
      }

      /* Header styles */
      header {
        background-color: var(--nav-bg);
        height: var(--header-height);
        border-bottom: 2px solid var(--accent-color);
        position: sticky;
        top: 0;
        z-index: 100;
      }

      .header-content {
        display: flex;
        align-items: center;
        justify-content: space-between;
        height: 100%;
      }

      .logo {
        display: flex;
        align-items: center;
        font-size: 1.5rem;
        font-weight: bold;
        color: var(--accent-color);
      }

      .logo img {
        height: 40px;
        margin-right: 10px;
      }

      .avatar {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        background-color: var(--accent-color);
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-weight: bold;
      }

      /* Navigation */
      nav {
        background-color: var(--nav-bg);
        padding: 10px 0;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      }

      .nav-links {
        display: flex;
        gap: 20px;
        list-style: none;
        overflow-x: auto;
        padding: 0 20px;
      }

      .nav-links li a {
        color: var(--text-color);
        text-decoration: none;
        padding: 5px 10px;
        border-radius: var(--border-radius);
        transition: all 0.3s ease;
        white-space: nowrap;
        font-weight: 500;
      }

      .nav-links li a:hover,
      .nav-links li a.active {
        background-color: var(--accent-color);
        color: white;
      }

      /* Main content area */
      main {
        padding: 20px 0;
      }

      h1,
      h2,
      h3,
      h4,
      h5,
      h6 {
        color: var(--accent-color);
        margin-bottom: 15px;
        margin-top: 30px;
        font-weight: 600;
      }

      h1 {
        font-size: 2rem;
        border-bottom: 2px solid var(--accent-color);
        padding-bottom: 10px;
        margin-bottom: 20px;
      }

      h2 {
        font-size: 1.5rem;
      }

      h3 {
        font-size: 1.25rem;
      }

      p {
        margin-bottom: 15px;
      }

      /* Card layouts */
      .card {
        background-color: var(--card-bg);
        border-radius: var(--border-radius);
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        margin-bottom: 20px;
        overflow: hidden;
        border-left: 4px solid var(--accent-color);
      }

      .card.secure {
        border-left-color: var(--secure-color);
      }

      .card-header {
        padding: 15px 20px;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        font-weight: bold;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .card-content {
        padding: 20px;
      }

      /* Buttons */
      .btn {
        display: inline-block;
        background-color: var(--accent-color);
        color: white;
        padding: 10px 15px;
        border-radius: var(--border-radius);
        text-decoration: none;
        border: none;
        cursor: pointer;
        font-family: inherit;
        font-size: 1rem;
        transition: background-color 0.3s ease;
      }

      .btn:hover {
        background-color: var(--accent-dark);
      }

      .btn-success {
        background-color: var(--success-color);
      }

      .btn-success:hover {
        background-color: #219952;
      }

      .btn-warning {
        background-color: var(--warning-color);
      }

      .btn-warning:hover {
        background-color: #d35400;
      }

      .btn-danger {
        background-color: var(--danger-color);
      }

      .btn-danger:hover {
        background-color: #c0392b;
      }

      .btn-secure {
        background-color: var(--secure-color);
      }

      .btn-secure:hover {
        background-color: var(--secure-dark);
      }

      .btn-outlined {
        background-color: transparent;
        border: 2px solid var(--accent-color);
        color: var(--accent-color);
      }

      .btn-outlined:hover {
        background-color: var(--accent-color);
        color: white;
      }

      .btn-outlined.secure {
        border-color: var(--secure-color);
        color: var(--secure-color);
      }

      .btn-outlined.secure:hover {
        background-color: var(--secure-color);
        color: white;
      }

      /* Grid layouts */
      .grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
        gap: 20px;
        margin-bottom: 30px;
      }

      /* Dyslexia-specific styles */
      .dyslexia-friendly-text {
        font-size: 1.05rem;
        line-height: 1.8;
        word-spacing: 0.15em;
        letter-spacing: 0.04em;
      }

      /* Features specialized for dyslexia */
      .reading-guide {
        background-color: rgba(52, 152, 219, 0.2);
        padding: 2px;
        border-radius: 4px;
        cursor: pointer;
        position: relative;
      }

      .reading-guide::after {
        content: 'üëÅÔ∏è';
        position: absolute;
        right: -20px;
        top: 50%;
        transform: translateY(-50%);
        font-size: 14px;
        opacity: 0.7;
      }

      .text-to-speech-btn {
        background-color: var(--accent-light);
        color: white;
        border: none;
        border-radius: 50%;
        width: 32px;
        height: 32px;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        margin-left: 10px;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .text-to-speech-btn:hover {
        background-color: var(--accent-color);
        transform: scale(1.1);
      }

      /* Form elements */
      .form-group {
        margin-bottom: 20px;
      }

      .form-label {
        display: block;
        margin-bottom: 8px;
        font-weight: 600;
      }

      .form-control {
        width: 100%;
        padding: 10px 15px;
        background-color: rgba(255, 255, 255, 0.1);
        border: 1px solid rgba(255, 255, 255, 0.2);
        border-radius: var(--border-radius);
        color: var(--text-color);
        font-family: inherit;
        font-size: 1rem;
        transition: all 0.3s ease;
      }

      .form-control:focus {
        outline: none;
        border-color: var(--accent-color);
        box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.3);
      }

      select.form-control {
        appearance: none;
        background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23e6e6ff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M6 9l6 6 6-6'/%3E%3C/svg%3E");
        background-repeat: no-repeat;
        background-position: right 10px center;
        background-size: 16px;
        padding-right: 40px;
      }

      /* Tab panel styles */
      .tab-container {
        margin-bottom: 30px;
      }

      .tab-buttons {
        display: flex;
        border-bottom: 2px solid var(--accent-color);
        margin-bottom: 20px;
      }

      .tab-btn {
        padding: 10px 20px;
        background-color: transparent;
        border: none;
        color: var(--text-color);
        cursor: pointer;
        font-family: inherit;
        font-size: 1rem;
        font-weight: 600;
        transition: all 0.3s ease;
        border-bottom: 3px solid transparent;
        margin-bottom: -2px;
      }

      .tab-btn:hover {
        color: var(--accent-color);
      }

      .tab-btn.active {
        color: var(--accent-color);
        border-bottom-color: var(--accent-color);
      }

      .tab-btn.secure {
        border-bottom-color: var(--secure-color);
      }

      .tab-content {
        display: none;
      }

      .tab-content.active {
        display: block;
      }

      /* Security badge */
      .security-badge {
        display: inline-flex;
        align-items: center;
        background-color: rgba(155, 89, 182, 0.2);
        border: 1px solid var(--secure-color);
        border-radius: var(--border-radius);
        padding: 6px 12px;
        margin-right: 10px;
        font-size: 0.9rem;
      }

      .security-badge span {
        margin-left: 6px;
      }

      /* Document card */
      .document-card {
        background-color: var(--card-bg);
        border-radius: var(--border-radius);
        padding: 15px;
        margin-bottom: 15px;
        border-left: 4px solid var(--secure-color);
        display: flex;
        align-items: center;
        gap: 15px;
      }

      .document-icon {
        font-size: 2rem;
        min-width: 40px;
        text-align: center;
      }

      .document-info {
        flex-grow: 1;
      }

      .document-title {
        font-weight: bold;
        margin-bottom: 5px;
      }

      .document-meta {
        font-size: 0.8rem;
        color: rgba(255, 255, 255, 0.7);
      }

      .document-actions {
        display: flex;
        gap: 10px;
      }

      .document-action {
        background-color: rgba(255, 255, 255, 0.1);
        border: none;
        border-radius: 50%;
        width: 36px;
        height: 36px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.2rem;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .document-action:hover {
        background-color: rgba(255, 255, 255, 0.2);
      }

      /* Authentication form */
      .auth-form {
        max-width: 450px;
        margin: 50px auto;
        padding: 30px;
        background-color: var(--card-bg);
        border-radius: var(--border-radius);
        border-left: 4px solid var(--secure-color);
      }

      .auth-header {
        text-align: center;
        margin-bottom: 30px;
      }

      .auth-logo {
        font-size: 3rem;
        margin-bottom: 15px;
        color: var(--secure-color);
      }

      .auth-title {
        font-size: 1.5rem;
        font-weight: bold;
        color: var(--secure-color);
      }

      .auth-subtitle {
        font-size: 0.9rem;
        opacity: 0.7;
        margin-top: 5px;
      }

      .auth-verification {
        display: flex;
        justify-content: center;
        margin-top: 20px;
      }

      /* File upload zone */
      .upload-zone {
        border: 2px dashed rgba(255, 255, 255, 0.2);
        border-radius: var(--border-radius);
        padding: 30px;
        text-align: center;
        margin-bottom: 20px;
        transition: all 0.3s ease;
        cursor: pointer;
      }

      .upload-zone:hover {
        border-color: var(--secure-color);
        background-color: rgba(155, 89, 182, 0.05);
      }

      .upload-icon {
        font-size: 3rem;
        margin-bottom: 15px;
        color: var(--secure-color);
      }

      .upload-text {
        margin-bottom: 10px;
      }

      .upload-info {
        font-size: 0.8rem;
        opacity: 0.7;
      }

      /* Access logs */
      .access-log {
        margin-top: 20px;
      }

      .log-entry {
        background-color: var(--card-bg);
        border-radius: var(--border-radius);
        padding: 15px;
        margin-bottom: 15px;
        display: flex;
        align-items: center;
        gap: 15px;
      }

      .log-icon {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        background-color: rgba(255, 255, 255, 0.1);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.2rem;
      }

      .log-info {
        flex-grow: 1;
      }

      .log-action {
        font-weight: bold;
        margin-bottom: 5px;
      }

      .log-meta {
        font-size: 0.8rem;
        color: rgba(255, 255, 255, 0.7);
      }

      .log-status {
        padding: 3px 8px;
        border-radius: 12px;
        font-size: 0.8rem;
        background-color: rgba(39, 174, 96, 0.2);
        color: var(--success-color);
      }

      .log-status.warning {
        background-color: rgba(230, 126, 34, 0.2);
        color: var(--warning-color);
      }

      .log-status.error {
        background-color: rgba(231, 76, 60, 0.2);
        color: var(--danger-color);
      }

      /* Access control panel */
      .access-control {
        margin-top: 30px;
      }

      .user-access-card {
        background-color: var(--card-bg);
        border-radius: var(--border-radius);
        padding: 15px;
        margin-bottom: 15px;
        display: flex;
        align-items: center;
        gap: 15px;
      }

      .access-user-avatar {
        width: 50px;
        height: 50px;
        border-radius: 50%;
        background-color: var(--secure-color);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.5rem;
        color: white;
      }

      .access-user-info {
        flex-grow: 1;
      }

      .access-user-name {
        font-weight: bold;
        margin-bottom: 5px;
      }

      .access-user-role {
        font-size: 0.9rem;
        opacity: 0.7;
      }

      .access-user-permissions {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
        margin-top: 10px;
      }

      .permission-tag {
        display: inline-block;
        padding: 3px 8px;
        border-radius: 12px;
        font-size: 0.8rem;
        background-color: rgba(155, 89, 182, 0.2);
      }

      .access-user-actions {
        display: flex;
        gap: 10px;
      }

      /* Help character bubble */
      .help-character {
        position: fixed;
        bottom: 20px;
        right: 20px;
        background-color: var(--secure-color);
        width: 60px;
        height: 60px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 2rem;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        cursor: pointer;
        z-index: 100;
        transition: all 0.3s ease;
      }

      .help-character:hover {
        transform: scale(1.1);
      }

      .help-panel {
        position: fixed;
        bottom: 90px;
        right: 20px;
        width: 300px;
        background-color: var(--card-bg);
        border-radius: var(--border-radius);
        padding: 15px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        z-index: 100;
        transition: all 0.3s ease;
        opacity: 0;
        visibility: hidden;
        transform: translateY(20px);
        border-left: 4px solid var(--secure-color);
      }

      .help-panel.active {
        opacity: 1;
        visibility: visible;
        transform: translateY(0);
      }

      .help-panel-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 10px;
        padding-bottom: 10px;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      }

      .help-character-name {
        font-weight: bold;
        color: var(--secure-color);
      }

      .help-close {
        background: none;
        border: none;
        color: var(--text-color);
        cursor: pointer;
        font-size: 1.2rem;
      }

      .help-message {
        margin-bottom: 15px;
      }

      .help-options {
        display: flex;
        flex-direction: column;
        gap: 8px;
      }

      .help-option {
        padding: 8px 12px;
        background-color: rgba(155, 89, 182, 0.1);
        border-radius: var(--border-radius);
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .help-option:hover {
        background-color: rgba(155, 89, 182, 0.3);
      }

      /* Status indicators */
      .status-indicators {
        display: flex;
        gap: 20px;
        margin-bottom: 30px;
      }

      .status-indicator {
        background-color: var(--card-bg);
        border-radius: var(--border-radius);
        padding: 15px;
        flex: 1;
        display: flex;
        align-items: center;
        gap: 15px;
      }

      .status-icon {
        width: 50px;
        height: 50px;
        border-radius: 50%;
        background-color: rgba(155, 89, 182, 0.2);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.5rem;
      }

      .status-icon.active {
        background-color: rgba(39, 174, 96, 0.2);
        color: var(--success-color);
      }

      .status-info {
        flex-grow: 1;
      }

      .status-title {
        font-weight: bold;
        margin-bottom: 5px;
      }

      .status-details {
        font-size: 0.9rem;
        opacity: 0.7;
      }

      /* Responsive styles */
      @media (max-width: 768px) {
        .container {
          padding: 0 15px;
        }

        .grid {
          grid-template-columns: 1fr;
        }

        .tab-buttons {
          flex-wrap: wrap;
        }

        .status-indicators {
          flex-direction: column;
        }

        .document-card {
          flex-direction: column;
          align-items: flex-start;
        }

        .document-actions {
          margin-top: 15px;
          width: 100%;
          justify-content: flex-end;
        }
      }
    </style>
  </head>
  <body>
    <header>
      <div class="container">
        <div class="header-content">
          <div class="logo">
            <img src="/logo.png" alt="ShotziOS Logo" />
            <span>ShotziOS Educational Platform</span>
          </div>
          <div class="avatar">S</div>
        </div>
      </div>
    </header>

    <nav>
      <div class="container">
        <ul class="nav-links">
          <li><a href="/dashboard">Dashboard</a></li>
          <li><a href="/superhero-school">Superhero School</a></li>
          <li><a href="/superhero-school/dyslexia-learning">Dyslexia Super-Learning</a></li>
          <li><a href="/superhero-school/adaptive-learning">AI Adaptive Learning</a></li>
          <li><a href="/superhero-school/gpa-calculator">GPA Calculator</a></li>
          <li><a href="/superhero-school/medication-tracker">Medication Tracker</a></li>
          <li><a href="/superhero-school/medical-vault" class="active">Medical Vault</a></li>
        </ul>
      </div>
    </nav>

    <!-- MFA Authentication Form (would only show if not fully authenticated) -->
    <div class="auth-form" id="auth-form">
      <div class="auth-header">
        <div class="auth-logo">üîê</div>
        <div class="auth-title">HIPAA Secure Medical Vault</div>
        <div class="auth-subtitle">
          Additional authentication required to access sensitive information
        </div>
      </div>

      <div class="form-group">
        <label class="form-label" for="auth-password">Vault Password:</label>
        <input
          type="password"
          class="form-control"
          id="auth-password"
          placeholder="Enter your medical vault password"
        />
      </div>

      <div class="form-group">
        <label class="form-label">Two-Factor Authentication:</label>
        <div class="auth-verification">
          <input
            type="text"
            class="form-control"
            style="width: 60px; text-align: center; margin-right: 10px"
            maxlength="1"
          />
          <input
            type="text"
            class="form-control"
            style="width: 60px; text-align: center; margin-right: 10px"
            maxlength="1"
          />
          <input
            type="text"
            class="form-control"
            style="width: 60px; text-align: center; margin-right: 10px"
            maxlength="1"
          />
          <input
            type="text"
            class="form-control"
            style="width: 60px; text-align: center; margin-right: 10px"
            maxlength="1"
          />
          <input
            type="text"
            class="form-control"
            style="width: 60px; text-align: center; margin-right: 10px"
            maxlength="1"
          />
          <input
            type="text"
            class="form-control"
            style="width: 60px; text-align: center"
            maxlength="1"
          />
        </div>
      </div>

      <button class="btn btn-secure" style="width: 100%" id="authenticate-btn">
        Authenticate & Access Vault
      </button>

      <div style="text-align: center; margin-top: 20px; font-size: 0.9rem">
        <div class="security-badge">üîí<span>HIPAA Compliant</span></div>
        <div class="security-badge">üõ°Ô∏è<span>End-to-End Encrypted</span></div>
      </div>
    </div>

    <!-- Main Content (hidden until authenticated) -->
    <main class="container" id="main-content" style="display: none">
      <h1>
        Secure Medical Vault
        <div style="display: inline-block; vertical-align: middle">
          <div class="security-badge">üîí<span>HIPAA Compliant</span></div>
          <div class="security-badge">üõ°Ô∏è<span>End-to-End Encrypted</span></div>
        </div>
      </h1>

      <div class="card secure">
        <div class="card-header">
          <span>Secure Medical Information Repository</span>
          <button class="text-to-speech-btn" title="Read aloud">üîä</button>
        </div>
        <div class="card-content dyslexia-friendly-text">
          <p>
            The Medical Vault provides a
            <span class="reading-guide">HIPAA-compliant, encrypted storage system</span> for all
            medically sensitive information related to your child's educational journey. This secure
            environment ensures that private health information is protected while still being
            accessible to authorized caregivers and medical professionals.
          </p>

          <p>
            <strong>Important:</strong> All access to this vault is logged and requires additional
            authentication. Documents can be shared with specific educational professionals with
            granular permission controls that you manage.
          </p>
        </div>
      </div>

      <div class="status-indicators">
        <div class="status-indicator">
          <div class="status-icon active">üîí</div>
          <div class="status-info">
            <div class="status-title">Encryption Active</div>
            <div class="status-details">AES-256 encryption with unique key</div>
          </div>
        </div>

        <div class="status-indicator">
          <div class="status-icon active">üë§</div>
          <div class="status-info">
            <div class="status-title">Authorized Users</div>
            <div class="status-details">3 active users with varying permissions</div>
          </div>
        </div>

        <div class="status-indicator">
          <div class="status-icon active">üìù</div>
          <div class="status-info">
            <div class="status-title">Audit System</div>
            <div class="status-details">All access logged and monitored</div>
          </div>
        </div>
      </div>

      <div class="tab-container">
        <div class="tab-buttons">
          <button class="tab-btn active secure" data-tab="documents">Medical Documents</button>
          <button class="tab-btn" data-tab="records">Health Records</button>
          <button class="tab-btn" data-tab="upload">Upload Documents</button>
          <button class="tab-btn" data-tab="access">Access Control</button>
          <button class="tab-btn" data-tab="logs">Access Logs</button>
        </div>

        <div id="documents-tab" class="tab-content active">
          <div class="form-group">
            <label class="form-label" for="document-student-select">Select Student:</label>
            <select class="form-control" id="document-student-select">
              <option value="">Select a student</option>
              <option value="1">Alex Bronson (Grade 3)</option>
              <option value="2">Jamie Torres (Grade 7)</option>
              <option value="3">Sam Liu (Grade 10)</option>
            </select>
          </div>

          <div class="form-group">
            <div class="document-search" style="position: relative">
              <input
                type="text"
                class="form-control"
                placeholder="Search medical documents..."
                style="padding-left: 40px"
              />
              <span
                style="
                  position: absolute;
                  left: 15px;
                  top: 50%;
                  transform: translateY(-50%);
                  opacity: 0.5;
                "
                >üîç</span
              >
            </div>
          </div>

          <h3>Diagnostic Reports</h3>

          <div class="document-card">
            <div class="document-icon">üìÑ</div>
            <div class="document-info">
              <div class="document-title">Neuropsychological Evaluation Report</div>
              <div class="document-meta">
                Uploaded: March 15, 2025 ‚Ä¢ Dr. Sarah Johnson ‚Ä¢ Children's Neurodevelopmental Center
              </div>
            </div>
            <div class="document-actions">
              <button class="document-action" title="View Document">üëÅÔ∏è</button>
              <button class="document-action" title="Download Document">‚¨áÔ∏è</button>
              <button class="document-action" title="Share Document">üîó</button>
            </div>
          </div>

          <div class="document-card">
            <div class="document-icon">üìÑ</div>
            <div class="document-info">
              <div class="document-title">Dyslexia Assessment Report</div>
              <div class="document-meta">
                Uploaded: January 10, 2025 ‚Ä¢ Dr. Michael Chen ‚Ä¢ Literacy Development Center
              </div>
            </div>
            <div class="document-actions">
              <button class="document-action" title="View Document">üëÅÔ∏è</button>
              <button class="document-action" title="Download Document">‚¨áÔ∏è</button>
              <button class="document-action" title="Share Document">üîó</button>
            </div>
          </div>

          <h3>Medication Documentation</h3>

          <div class="document-card">
            <div class="document-icon">üìÑ</div>
            <div class="document-info">
              <div class="document-title">ADHD Medication Prescription and Instructions</div>
              <div class="document-meta">
                Uploaded: March 30, 2025 ‚Ä¢ Dr. James Wilson ‚Ä¢ Pediatric Neurology Associates
              </div>
            </div>
            <div class="document-actions">
              <button class="document-action" title="View Document">üëÅÔ∏è</button>
              <button class="document-action" title="Download Document">‚¨áÔ∏è</button>
              <button class="document-action" title="Share Document">üîó</button>
            </div>
          </div>

          <div class="document-card">
            <div class="document-icon">üìÑ</div>
            <div class="document-info">
              <div class="document-title">Medication Side Effects Monitoring Form</div>
              <div class="document-meta">
                Uploaded: April 2, 2025 ‚Ä¢ Dr. James Wilson ‚Ä¢ Pediatric Neurology Associates
              </div>
            </div>
            <div class="document-actions">
              <button class="document-action" title="View Document">üëÅÔ∏è</button>
              <button class="document-action" title="Download Document">‚¨áÔ∏è</button>
              <button class="document-action" title="Share Document">üîó</button>
            </div>
          </div>

          <h3>Educational Accommodations</h3>

          <div class="document-card">
            <div class="document-icon">üìÑ</div>
            <div class="document-info">
              <div class="document-title">504 Plan Documentation</div>
              <div class="document-meta">
                Uploaded: February 5, 2025 ‚Ä¢ Springfield Elementary School
              </div>
            </div>
            <div class="document-actions">
              <button class="document-action" title="View Document">üëÅÔ∏è</button>
              <button class="document-action" title="Download Document">‚¨áÔ∏è</button>
              <button class="document-action" title="Share Document">üîó</button>
            </div>
          </div>

          <div class="document-card">
            <div class="document-icon">üìÑ</div>
            <div class="document-info">
              <div class="document-title">Individualized Education Program (IEP)</div>
              <div class="document-meta">
                Uploaded: February 20, 2025 ‚Ä¢ Springfield Elementary School
              </div>
            </div>
            <div class="document-actions">
              <button class="document-action" title="View Document">üëÅÔ∏è</button>
              <button class="document-action" title="Download Document">‚¨áÔ∏è</button>
              <button class="document-action" title="Share Document">üîó</button>
            </div>
          </div>
        </div>

        <div id="records-tab" class="tab-content">
          <div class="form-group">
            <label class="form-label" for="records-student-select">Select Student:</label>
            <select class="form-control" id="records-student-select">
              <option value="">Select a student</option>
              <option value="1">Alex Bronson (Grade 3)</option>
              <option value="2">Jamie Torres (Grade 7)</option>
              <option value="3">Sam Liu (Grade 10)</option>
            </select>
          </div>

          <h3>Medical History Summary</h3>

          <div class="card secure">
            <div class="card-content">
              <h4>Diagnoses</h4>
              <ul class="dyslexia-friendly-text">
                <li><strong>Dyslexia:</strong> Diagnosed January 2024 by Dr. Michael Chen</li>
                <li>
                  <strong>ADHD (Predominantly Inattentive Type):</strong> Diagnosed March 2024 by
                  Dr. James Wilson
                </li>
              </ul>

              <h4 style="margin-top: 20px">Current Medications</h4>
              <ul class="dyslexia-friendly-text">
                <li><strong>Adderall XR 10mg:</strong> Once daily, 7:30 AM</li>
                <li><strong>Vitamin D3 1000 IU:</strong> Once daily with breakfast</li>
              </ul>

              <h4 style="margin-top: 20px">Allergies</h4>
              <ul class="dyslexia-friendly-text">
                <li>No known medication allergies</li>
                <li>Seasonal pollen allergies (spring)</li>
              </ul>

              <h4 style="margin-top: 20px">Family History</h4>
              <ul class="dyslexia-friendly-text">
                <li>Father: Dyslexia</li>
                <li>Paternal uncle: ADHD</li>
              </ul>
            </div>
          </div>

          <h3>Growth & Development</h3>

          <div class="card secure">
            <div class="card-content">
              <div style="display: flex; justify-content: space-between; margin-bottom: 20px">
                <div>
                  <h4>Physical Growth</h4>
                  <div class="dyslexia-friendly-text">
                    <div><strong>Height:</strong> 48 inches (50th percentile)</div>
                    <div><strong>Weight:</strong> 65 pounds (55th percentile)</div>
                    <div><strong>Last Measured:</strong> March 2025</div>
                  </div>
                </div>

                <div>
                  <h4>Developmental Milestones</h4>
                  <div class="dyslexia-friendly-text">
                    <div><strong>Gross Motor:</strong> Age appropriate</div>
                    <div><strong>Fine Motor:</strong> Slightly delayed (receiving OT)</div>
                    <div><strong>Speech/Language:</strong> Age appropriate</div>
                  </div>
                </div>
              </div>

              <h4>Development Notes</h4>
              <p class="dyslexia-friendly-text">
                Alex demonstrated early signs of reading difficulties in kindergarten. Reading
                acquisition has been challenging, though mathematics concepts are at or above grade
                level. Fine motor skills show mild delays, particularly in handwriting and drawing
                tasks.
              </p>

              <button class="btn btn-outlined secure" style="margin-top: 15px">
                View Full Developmental History
              </button>
            </div>
          </div>

          <h3>Vision & Hearing</h3>

          <div class="card secure">
            <div class="card-content">
              <div style="display: flex; justify-content: space-between; margin-bottom: 20px">
                <div>
                  <h4>Vision</h4>
                  <div class="dyslexia-friendly-text">
                    <div><strong>Last Exam:</strong> February 2025</div>
                    <div><strong>Visual Acuity:</strong> 20/20 both eyes</div>
                    <div><strong>Prescription:</strong> None needed</div>
                  </div>
                </div>

                <div>
                  <h4>Hearing</h4>
                  <div class="dyslexia-friendly-text">
                    <div><strong>Last Exam:</strong> January 2025</div>
                    <div><strong>Results:</strong> Within normal limits</div>
                    <div><strong>Notes:</strong> No concerns identified</div>
                  </div>
                </div>
              </div>

              <h4>Specialized Testing</h4>
              <p class="dyslexia-friendly-text">
                Visual processing assessment completed January 2025 by Dr. Lisa Wong. Results showed
                typical visual processing with no evidence of Irlen Syndrome or other visual
                processing disorders. Tracking and convergence were within normal limits.
              </p>

              <button class="btn btn-outlined secure" style="margin-top: 15px">
                View Full Vision & Hearing Reports
              </button>
            </div>
          </div>
        </div>

        <div id="upload-tab" class="tab-content">
          <div class="form-group">
            <label class="form-label" for="upload-student-select">Select Student:</label>
            <select class="form-control" id="upload-student-select">
              <option value="">Select a student</option>
              <option value="1">Alex Bronson (Grade 3)</option>
              <option value="2">Jamie Torres (Grade 7)</option>
              <option value="3">Sam Liu (Grade 10)</option>
            </select>
          </div>

          <div class="form-group">
            <label class="form-label" for="document-type">Document Type:</label>
            <select class="form-control" id="document-type">
              <option value="">Select document type</option>
              <optgroup label="Medical Reports">
                <option value="diagnosis">Diagnostic Report</option>
                <option value="evaluation">Evaluation Report</option>
                <option value="treatment">Treatment Plan</option>
              </optgroup>
              <optgroup label="Educational Documents">
                <option value="iep">IEP Document</option>
                <option value="504">504 Plan</option>
                <option value="accommodation">Accommodation Request</option>
              </optgroup>
              <optgroup label="Medication Records">
                <option value="prescription">Prescription</option>
                <option value="medication-log">Medication Log</option>
                <option value="side-effects">Side Effects Documentation</option>
              </optgroup>
            </select>
          </div>

          <div class="upload-zone" id="upload-zone">
            <div class="upload-icon">üìÑ</div>
            <div class="upload-text dyslexia-friendly-text">
              Drag & drop files here or click to browse
            </div>
            <div class="upload-info">
              Supported formats: PDF, JPG, PNG, DOC, DOCX (Max size: 10MB)
            </div>
            <input type="file" id="file-upload" style="display: none" />
          </div>

          <div class="form-group">
            <label class="form-label" for="document-description">Document Description:</label>
            <textarea
              class="form-control"
              id="document-description"
              rows="3"
              placeholder="Enter a brief description of this document"
            ></textarea>
          </div>

          <div class="form-group">
            <label class="form-label" for="document-source">Document Source:</label>
            <input
              type="text"
              class="form-control"
              id="document-source"
              placeholder="E.g., Doctor's name, medical facility, school"
            />
          </div>

          <div class="form-group">
            <label class="form-label" for="document-date">Document Date:</label>
            <input type="date" class="form-control" id="document-date" />
          </div>

          <div class="form-group">
            <label class="form-label">Access Permissions:</label>
            <div style="display: flex; align-items: center; margin-bottom: 10px">
              <input type="checkbox" id="parent-access" checked style="margin-right: 10px" />
              <label for="parent-access">Parent/Guardian Access</label>
            </div>
            <div style="display: flex; align-items: center; margin-bottom: 10px">
              <input type="checkbox" id="healthcare-access" checked style="margin-right: 10px" />
              <label for="healthcare-access">Healthcare Provider Access</label>
            </div>
            <div style="display: flex; align-items: center; margin-bottom: 10px">
              <input type="checkbox" id="teacher-access" style="margin-right: 10px" />
              <label for="teacher-access">Teacher Access (Limited)</label>
            </div>
            <div style="display: flex; align-items: center">
              <input type="checkbox" id="school-admin-access" style="margin-right: 10px" />
              <label for="school-admin-access">School Administrator Access (Limited)</label>
            </div>
          </div>

          <div class="card secure" style="margin-top: 30px; margin-bottom: 30px">
            <div class="card-header">
              <span>Security & Privacy Notice</span>
            </div>
            <div class="card-content dyslexia-friendly-text">
              <p>All documents uploaded to the Medical Vault are:</p>
              <ul>
                <li>Encrypted using AES-256 encryption standards</li>
                <li>Stored in compliance with HIPAA regulations</li>
                <li>Accessible only to users with explicitly granted permissions</li>
                <li>Subject to access logging and auditing</li>
              </ul>
              <p style="margin-top: 15px">
                By uploading documents, you agree to our
                <a href="#" style="color: var(--secure-color)">Medical Information Privacy Policy</a
                >.
              </p>
            </div>
          </div>

          <button class="btn btn-secure" id="upload-documents-btn">
            Upload & Secure Documents
          </button>
        </div>

        <div id="access-tab" class="tab-content">
          <h3>Access Control Management</h3>

          <div class="form-group">
            <label class="form-label" for="access-student-select">Select Student:</label>
            <select class="form-control" id="access-student-select">
              <option value="">Select a student</option>
              <option value="1">Alex Bronson (Grade 3)</option>
              <option value="2">Jamie Torres (Grade 7)</option>
              <option value="3">Sam Liu (Grade 10)</option>
            </select>
          </div>

          <div class="card secure">
            <div class="card-content dyslexia-friendly-text">
              <p>
                This panel allows you to control who has access to your child's medical information.
                You can grant or revoke access for specific individuals and control exactly what
                level of information they can view.
              </p>

              <div style="margin-top: 15px">
                <button class="btn btn-secure" id="add-user-access-btn">+ Add New User</button>
              </div>
            </div>
          </div>

          <h3>Current Access Users</h3>

          <div class="access-control">
            <div class="user-access-card">
              <div class="access-user-avatar">MB</div>
              <div class="access-user-info">
                <div class="access-user-name">Maria Bronson</div>
                <div class="access-user-role">Parent/Guardian (Primary)</div>
                <div class="access-user-permissions">
                  <div class="permission-tag">Full Access</div>
                  <div class="permission-tag">Upload Documents</div>
                  <div class="permission-tag">Share Documents</div>
                  <div class="permission-tag">Manage Access</div>
                </div>
              </div>
              <div class="access-user-actions">
                <button class="btn btn-outlined secure">Edit Access</button>
              </div>
            </div>

            <div class="user-access-card">
              <div class="access-user-avatar">JB</div>
              <div class="access-user-info">
                <div class="access-user-name">John Bronson</div>
                <div class="access-user-role">Parent/Guardian</div>
                <div class="access-user-permissions">
                  <div class="permission-tag">Full Access</div>
                  <div class="permission-tag">Upload Documents</div>
                  <div class="permission-tag">Share Documents</div>
                </div>
              </div>
              <div class="access-user-actions">
                <button class="btn btn-outlined secure">Edit Access</button>
              </div>
            </div>

            <div class="user-access-card">
              <div class="access-user-avatar">JW</div>
              <div class="access-user-info">
                <div class="access-user-name">Dr. James Wilson</div>
                <div class="access-user-role">Healthcare Provider</div>
                <div class="access-user-permissions">
                  <div class="permission-tag">View Medical Records</div>
                  <div class="permission-tag">Upload Medical Documents</div>
                  <div class="permission-tag">Limited Access (Until 12/31/2025)</div>
                </div>
              </div>
              <div class="access-user-actions">
                <button class="btn btn-outlined secure">Edit Access</button>
                <button class="btn btn-outlined">Revoke Access</button>
              </div>
            </div>

            <div class="user-access-card">
              <div class="access-user-avatar">KT</div>
              <div class="access-user-info">
                <div class="access-user-name">Ms. Karen Taylor</div>
                <div class="access-user-role">Special Education Teacher</div>
                <div class="access-user-permissions">
                  <div class="permission-tag">View Educational Accommodations</div>
                  <div class="permission-tag">Limited Access (IEP Documents Only)</div>
                  <div class="permission-tag">Expires: 06/15/2025 (School Year End)</div>
                </div>
              </div>
              <div class="access-user-actions">
                <button class="btn btn-outlined secure">Edit Access</button>
                <button class="btn btn-outlined">Revoke Access</button>
              </div>
            </div>
          </div>

          <!-- New User Access Modal (Hidden by default) -->
          <div
            class="card secure"
            id="new-user-modal"
            style="
              display: none;
              position: fixed;
              top: 50%;
              left: 50%;
              transform: translate(-50%, -50%);
              width: 90%;
              max-width: 500px;
              z-index: 1000;
              box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
            "
          >
            <div class="card-header">
              <span>Add New User Access</span>
              <button
                id="close-user-modal"
                style="
                  background: none;
                  border: none;
                  color: white;
                  cursor: pointer;
                  font-size: 1.2rem;
                "
              >
                ‚úï
              </button>
            </div>
            <div class="card-content">
              <div class="form-group">
                <label class="form-label" for="new-user-name">User Full Name:</label>
                <input
                  type="text"
                  class="form-control"
                  id="new-user-name"
                  placeholder="Enter user's full name"
                />
              </div>

              <div class="form-group">
                <label class="form-label" for="new-user-email">User Email:</label>
                <input
                  type="email"
                  class="form-control"
                  id="new-user-email"
                  placeholder="Enter user's email address"
                />
              </div>

              <div class="form-group">
                <label class="form-label" for="new-user-role">User Role:</label>
                <select class="form-control" id="new-user-role">
                  <option value="">Select user role</option>
                  <option value="parent">Parent/Guardian</option>
                  <option value="healthcare">Healthcare Provider</option>
                  <option value="teacher">Teacher</option>
                  <option value="admin">School Administrator</option>
                  <option value="therapist">Therapist</option>
                  <option value="other">Other (Specify)</option>
                </select>
              </div>

              <div class="form-group">
                <label class="form-label">Access Permissions:</label>
                <div style="display: flex; align-items: center; margin-bottom: 10px">
                  <input type="checkbox" id="perm-view-medical" style="margin-right: 10px" />
                  <label for="perm-view-medical">View Medical Records</label>
                </div>
                <div style="display: flex; align-items: center; margin-bottom: 10px">
                  <input type="checkbox" id="perm-view-educational" style="margin-right: 10px" />
                  <label for="perm-view-educational">View Educational Documents</label>
                </div>
                <div style="display: flex; align-items: center; margin-bottom: 10px">
                  <input type="checkbox" id="perm-upload" style="margin-right: 10px" />
                  <label for="perm-upload">Upload Documents</label>
                </div>
                <div style="display: flex; align-items: center">
                  <input type="checkbox" id="perm-share" style="margin-right: 10px" />
                  <label for="perm-share">Share Documents</label>
                </div>
              </div>

              <div class="form-group">
                <label class="form-label" for="access-expiration">Access Expiration:</label>
                <input type="date" class="form-control" id="access-expiration" />
              </div>

              <button class="btn btn-secure" id="save-user-access-btn">Grant Access</button>
            </div>
          </div>

          <!-- Semi-transparent overlay for modal background -->
          <div
            id="user-modal-overlay"
            style="
              display: none;
              position: fixed;
              top: 0;
              left: 0;
              right: 0;
              bottom: 0;
              background-color: rgba(0, 0, 0, 0.5);
              z-index: 999;
            "
          ></div>
        </div>

        <div id="logs-tab" class="tab-content">
          <h3>Access & Activity Logs</h3>

          <div class="form-group">
            <label class="form-label" for="logs-student-select">Select Student:</label>
            <select class="form-control" id="logs-student-select">
              <option value="">Select a student</option>
              <option value="1">Alex Bronson (Grade 3)</option>
              <option value="2">Jamie Torres (Grade 7)</option>
              <option value="3">Sam Liu (Grade 10)</option>
            </select>
          </div>

          <div class="form-group">
            <label class="form-label" for="logs-filter">Filter Logs:</label>
            <select class="form-control" id="logs-filter">
              <option value="all">All Activity</option>
              <option value="view">Document Views</option>
              <option value="download">Document Downloads</option>
              <option value="upload">Document Uploads</option>
              <option value="share">Document Sharing</option>
              <option value="access">Access Changes</option>
              <option value="failed">Failed Access Attempts</option>
            </select>
          </div>

          <div class="access-log">
            <div class="log-entry">
              <div class="log-icon">üëÅÔ∏è</div>
              <div class="log-info">
                <div class="log-action">Neuropsychological Evaluation Report Viewed</div>
                <div class="log-meta">
                  By: Maria Bronson (Parent/Guardian) ‚Ä¢ April 10, 2025, 9:45 AM ‚Ä¢ IP: 198.51.100.123
                </div>
              </div>
              <div class="log-status">Successful</div>
            </div>

            <div class="log-entry">
              <div class="log-icon">‚¨áÔ∏è</div>
              <div class="log-info">
                <div class="log-action">504 Plan Documentation Downloaded</div>
                <div class="log-meta">
                  By: Karen Taylor (Teacher) ‚Ä¢ April 9, 2025, 2:15 PM ‚Ä¢ IP: 203.0.113.42
                </div>
              </div>
              <div class="log-status">Successful</div>
            </div>

            <div class="log-entry">
              <div class="log-icon">üîó</div>
              <div class="log-info">
                <div class="log-action">IEP Document Shared</div>
                <div class="log-meta">
                  By: Maria Bronson (Parent/Guardian) ‚Ä¢ April 8, 2025, 3:30 PM ‚Ä¢ Shared with: Dr.
                  Patricia Rivera
                </div>
              </div>
              <div class="log-status">Successful</div>
            </div>

            <div class="log-entry">
              <div class="log-icon">üì§</div>
              <div class="log-info">
                <div class="log-action">ADHD Medication Prescription Uploaded</div>
                <div class="log-meta">
                  By: Dr. James Wilson (Healthcare Provider) ‚Ä¢ April 8, 2025, 11:20 AM ‚Ä¢ IP:
                  192.0.2.189
                </div>
              </div>
              <div class="log-status">Successful</div>
            </div>

            <div class="log-entry">
              <div class="log-icon">üîê</div>
              <div class="log-info">
                <div class="log-action">Access Attempt to Medical Records</div>
                <div class="log-meta">
                  By: Unknown User ‚Ä¢ April 7, 2025, 7:10 PM ‚Ä¢ IP: 198.51.100.75
                </div>
              </div>
              <div class="log-status error">Failed - Authentication Error</div>
            </div>

            <div class="log-entry">
              <div class="log-icon">üë§</div>
              <div class="log-info">
                <div class="log-action">Access Granted to Karen Taylor</div>
                <div class="log-meta">
                  By: Maria Bronson (Parent/Guardian) ‚Ä¢ April 6, 2025, 4:15 PM ‚Ä¢ Limited to
                  educational documents
                </div>
              </div>
              <div class="log-status">Successful</div>
            </div>
          </div>

          <button class="btn btn-outlined secure" style="margin-top: 20px">
            View More Activity Logs
          </button>

          <div class="card secure" style="margin-top: 30px">
            <div class="card-header">
              <span>Security Alert Notifications</span>
            </div>
            <div class="card-content dyslexia-friendly-text">
              <p>
                You'll receive immediate notifications for suspicious activity related to your
                child's medical records.
              </p>

              <div class="form-group" style="margin-top: 15px">
                <label class="form-label">Notification Preferences:</label>
                <div style="display: flex; align-items: center; margin-bottom: 10px">
                  <input type="checkbox" id="notify-email" checked style="margin-right: 10px" />
                  <label for="notify-email">Email Notifications</label>
                </div>
                <div style="display: flex; align-items: center; margin-bottom: 10px">
                  <input type="checkbox" id="notify-sms" checked style="margin-right: 10px" />
                  <label for="notify-sms">SMS Notifications</label>
                </div>
                <div style="display: flex; align-items: center">
                  <input type="checkbox" id="notify-app" checked style="margin-right: 10px" />
                  <label for="notify-app">In-App Notifications</label>
                </div>
              </div>

              <button class="btn btn-outlined secure" style="margin-top: 15px">
                Update Notification Settings
              </button>
            </div>
          </div>
        </div>
      </div>
    </main>

    <div id="help-bubble" class="help-character">üîí</div>

    <div id="help-content" class="help-panel">
      <div class="help-panel-header">
        <span class="help-character-name">Security Guide</span>
        <button id="help-close">‚úï</button>
      </div>
      <div class="help-message dyslexia-friendly-text">
        <p>
          Hi there! I'm your Medical Vault Security Guide. I notice you're exploring our
          HIPAA-compliant secure storage system. How can I help you today?
        </p>
      </div>
      <div class="help-options">
        <div class="help-option dyslexia-friendly-text">
          How secure is my child's medical information?
        </div>
        <div class="help-option dyslexia-friendly-text">Who can access these medical records?</div>
        <div class="help-option dyslexia-friendly-text">
          How do I share documents with doctors or teachers?
        </div>
        <div class="help-option dyslexia-friendly-text">What is HIPAA compliance?</div>
      </div>
    </div>

    <script>
      // Authentication functionality
      document.getElementById('authenticate-btn').addEventListener('click', () => {
        const authPassword = document.getElementById('auth-password').value;

        if (!authPassword) {
          alert('Please enter your vault password.');
          return;
        }

        // In a real implementation, this would authenticate with the server
        // For demo purposes, we'll just show the main content
        document.getElementById('auth-form').style.display = 'none';
        document.getElementById('main-content').style.display = 'block';
      });

      // Tab switching functionality
      document.querySelectorAll('.tab-btn').forEach((tab) => {
        tab.addEventListener('click', () => {
          // Remove active class from all tabs
          document.querySelectorAll('.tab-btn').forEach((t) => t.classList.remove('active'));
          // Add active class to clicked tab
          tab.classList.add('active');

          // Hide all tab panels
          document
            .querySelectorAll('.tab-content')
            .forEach((panel) => panel.classList.remove('active'));
          // Show the corresponding panel
          const tabId = tab.getAttribute('data-tab') + '-tab';
          document.getElementById(tabId).classList.add('active');
        });
      });

      // Text-to-speech functionality
      document.querySelectorAll('.text-to-speech-btn').forEach((btn) => {
        btn.addEventListener('click', () => {
          // Get the parent card
          const card = btn.closest('.card');
          // Get the text content
          const textContent = card.querySelector('.card-content').textContent.trim();

          // Use the browser's speech synthesis API
          if ('speechSynthesis' in window) {
            const speech = new SpeechSynthesisUtterance();
            speech.text = textContent;
            speech.rate = 0.9; // Slightly slower rate for dyslexic readers
            speech.pitch = 1;
            window.speechSynthesis.speak(speech);
          } else {
            alert('Sorry, your browser does not support text-to-speech!');
          }
        });
      });

      // Reading guide functionality
      document.querySelectorAll('.reading-guide').forEach((guide) => {
        guide.addEventListener('click', () => {
          guide.style.backgroundColor = 'rgba(52, 152, 219, 0.4)';
          setTimeout(() => {
            guide.style.backgroundColor = 'rgba(52, 152, 219, 0.2)';
          }, 1000);
        });
      });

      // Help bubble functionality
      const helpBubble = document.getElementById('help-bubble');
      const helpContent = document.getElementById('help-content');
      const helpClose = document.getElementById('help-close');

      helpBubble.addEventListener('click', () => {
        helpContent.classList.toggle('active');
      });

      helpClose.addEventListener('click', () => {
        helpContent.classList.remove('active');
      });

      // Help options functionality
      document.querySelectorAll('.help-option').forEach((option) => {
        option.addEventListener('click', () => {
          const optionText = option.textContent.trim();

          // Simple response system
          let response = '';

          if (optionText.includes('How secure')) {
            response =
              "Your child's medical information is protected by multiple security layers: end-to-end AES-256 encryption, secure authentication with two-factor verification, access controls that you manage, comprehensive audit logging, and full HIPAA compliance. Data is encrypted both during transmission and storage, meaning even in the unlikely event of a security breach, the information would remain unreadable without proper decryption keys.";
          } else if (optionText.includes('Who can access')) {
            response =
              'Only users you explicitly authorize can access these records. By default, only you (as parent/guardian) have full access. You can grant limited, specific access to healthcare providers, teachers, or school administrators. Each access permission can be customized to limit what information they can see, and when their access expires. All access attempts are logged and monitored.';
          } else if (optionText.includes('How do I share')) {
            response =
              "To share documents, navigate to the document you want to share, click the share icon (üîó), then enter the recipient's details. You can choose exactly what information they'll see and how long they'll have access. For teachers, you can limit access to only educational accommodations without sharing medical details. The system will generate a secure, time-limited access link.";
          } else if (optionText.includes('What is HIPAA')) {
            response =
              "HIPAA (Health Insurance Portability and Accountability Act) is a U.S. federal law that establishes strict standards for protecting sensitive patient health information. Our HIPAA compliance means we follow rigorous protocols for data security, privacy, access controls, and data handling. This includes encryption, access auditing, breach notification procedures, and staff training to ensure your child's medical information is properly protected.";
          }

          // Update the help message
          document.querySelector('.help-message').innerHTML = `<p>${response}</p>`;

          // Update the help options
          const helpOptions = document.querySelector('.help-options');
          helpOptions.innerHTML = `
          <div class="help-option dyslexia-friendly-text">How do I add medical documents?</div>
          <div class="help-option dyslexia-friendly-text">Can I revoke access for someone?</div>
          <div class="help-option dyslexia-friendly-text">Is there a mobile app for this?</div>
          <div class="help-option dyslexia-friendly-text">I have a different question</div>
        `;
        });
      });

      // Upload zone functionality
      const uploadZone = document.getElementById('upload-zone');
      const fileUpload = document.getElementById('file-upload');

      uploadZone.addEventListener('click', () => {
        fileUpload.click();
      });

      uploadZone.addEventListener('dragover', (e) => {
        e.preventDefault();
        uploadZone.style.borderColor = 'var(--secure-color)';
        uploadZone.style.backgroundColor = 'rgba(155, 89, 182, 0.05)';
      });

      uploadZone.addEventListener('dragleave', () => {
        uploadZone.style.borderColor = 'rgba(255, 255, 255, 0.2)';
        uploadZone.style.backgroundColor = 'transparent';
      });

      uploadZone.addEventListener('drop', (e) => {
        e.preventDefault();
        uploadZone.style.borderColor = 'rgba(255, 255, 255, 0.2)';
        uploadZone.style.backgroundColor = 'transparent';

        // In a real implementation, this would handle the dropped files
        // For demo purposes, we'll just show an alert
        alert(
          'File upload initiated! In the full implementation, this would securely upload and encrypt your files.',
        );
      });

      fileUpload.addEventListener('change', () => {
        // In a real implementation, this would handle the selected files
        // For demo purposes, we'll just show an alert
        const fileName =
          fileUpload.files.length > 0 ? fileUpload.files[0].name : 'No file selected';
        alert(
          `File selected: ${fileName}. In the full implementation, this would securely upload and encrypt your file.`,
        );
      });

      // Upload documents button functionality
      document.getElementById('upload-documents-btn').addEventListener('click', () => {
        const studentSelect = document.getElementById('upload-student-select');
        const documentType = document.getElementById('document-type');

        if (!studentSelect.value || !documentType.value) {
          alert('Please select both a student and document type.');
          return;
        }

        // In a real implementation, this would upload the documents to the server
        // For demo purposes, we'll just show an alert
        alert(
          'Documents uploaded successfully! They have been encrypted and securely stored in the Medical Vault.',
        );
      });

      // New user access modal functionality
      const addUserAccessBtn = document.getElementById('add-user-access-btn');
      const newUserModal = document.getElementById('new-user-modal');
      const userModalOverlay = document.getElementById('user-modal-overlay');
      const closeUserModalBtn = document.getElementById('close-user-modal');
      const saveUserAccessBtn = document.getElementById('save-user-access-btn');

      addUserAccessBtn.addEventListener('click', () => {
        newUserModal.style.display = 'block';
        userModalOverlay.style.display = 'block';

        // Set default expiration date to 6 months from now
        const sixMonthsFromNow = new Date();
        sixMonthsFromNow.setMonth(sixMonthsFromNow.getMonth() + 6);
        document.getElementById('access-expiration').value = sixMonthsFromNow
          .toISOString()
          .split('T')[0];
      });

      closeUserModalBtn.addEventListener('click', () => {
        newUserModal.style.display = 'none';
        userModalOverlay.style.display = 'none';
      });

      saveUserAccessBtn.addEventListener('click', () => {
        const userName = document.getElementById('new-user-name').value;
        const userRole = document.getElementById('new-user-role').value;

        if (!userName || !userRole) {
          alert('Please fill in all required fields.');
          return;
        }

        // In a real implementation, this would save the user access to the database
        // For demo purposes, we'll just show an alert
        alert(
          `Access granted to ${userName}! A secure invitation link has been sent to their email address.`,
        );

        // Close the modal
        newUserModal.style.display = 'none';
        userModalOverlay.style.display = 'none';
      });

      // Placeholder for verification code input field focus behavior
      const verificationInputs = document.querySelectorAll('.auth-verification input');
      verificationInputs.forEach((input, index) => {
        input.addEventListener('keyup', (e) => {
          if (e.key >= 0 && e.key <= 9) {
            if (index < verificationInputs.length - 1) {
              verificationInputs[index + 1].focus();
            }
          } else if (e.key === 'Backspace') {
            if (index > 0) {
              verificationInputs[index - 1].focus();
            }
          }
        });
      });
    </script>
  </body>
</html>
