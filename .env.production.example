# Production Environment Configuration
# Copy this file to .env.local and configure your values

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# FEATURE FLAGS - Staged Rollout Configuration
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# Set to 'true' to enable, 'false' to disable
# RECOMMENDED: Enable one flag per week for gradual rollout

# WEEK 1: Backend APIs Only (Safe to enable immediately)
NEXT_PUBLIC_FLAG_STUDY_HALL=true          # Study session tracking API
NEXT_PUBLIC_FLAG_NCAA_TRACKER=true        # NCAA checklist API
NEXT_PUBLIC_FLAG_GAR_INTEGRATION=true     # GAR scores API

# WEEK 2: Dashboard V2 (Enable after Week 1 monitoring shows stable APIs)
NEXT_PUBLIC_FLAG_DASHBOARD_V2=false       # Real-time dashboard tiles with SWR

# WEEK 3: New Hero Section (Enable after content review and A/B test setup)
NEXT_PUBLIC_FLAG_NEW_HERO=false           # Modern hero with centralized content

# WEEK 4: Hub Section (Full rollout after all flags proven stable)
NEXT_PUBLIC_FLAG_HUB_SECTION=false        # "Everything In One Place" hub

# FUTURE: Additional Features
NEXT_PUBLIC_FLAG_JSONLD=false             # Structured data for SEO (not yet implemented)

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# DATABASE
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# PostgreSQL connection string
# Format: postgresql://username:password@host:port/database?sslmode=require
DATABASE_URL="postgresql://user:password@localhost:5432/go4it?sslmode=require"

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# AUTHENTICATION (Clerk)
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# Get these from: https://dashboard.clerk.com/apps/<your-app>/api-keys
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY="pk_live_..."
CLERK_SECRET_KEY="sk_live_..."

# Clerk webhook secret (for auto-assigning roles on signup)
# Get from: https://dashboard.clerk.com/apps/<your-app>/webhooks
CLERK_WEBHOOK_SECRET="whsec_..."

# Clerk URLs (update with your production domain)
NEXT_PUBLIC_CLERK_SIGN_IN_URL="/sign-in"
NEXT_PUBLIC_CLERK_SIGN_UP_URL="/sign-up"
NEXT_PUBLIC_CLERK_AFTER_SIGN_IN_URL="/dashboard"
NEXT_PUBLIC_CLERK_AFTER_SIGN_UP_URL="/onboarding"

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# ANALYTICS (Optional)
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# Uncomment and configure if using analytics services

# Google Analytics
# NEXT_PUBLIC_GA_TRACKING_ID="G-XXXXXXXXXX"

# PostHog (for CTA tracking)
# NEXT_PUBLIC_POSTHOG_KEY="phc_..."
# NEXT_PUBLIC_POSTHOG_HOST="https://app.posthog.com"

# Mixpanel
# NEXT_PUBLIC_MIXPANEL_TOKEN="..."

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# MONITORING (Optional)
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# Uncomment and configure if using monitoring services

# Sentry (for error tracking)
# NEXT_PUBLIC_SENTRY_DSN="https://...@sentry.io/..."
# SENTRY_AUTH_TOKEN="..."

# LogRocket
# NEXT_PUBLIC_LOGROCKET_ID="org/app"

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# API RATE LIMITING (Optional)
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# Configure API rate limits to prevent abuse

# Study Hall API: Max study logs per student per day
STUDY_HALL_MAX_LOGS_PER_DAY=20

# NCAA API: Max checklist items per student
NCAA_MAX_CHECKLIST_ITEMS=50

# GAR API: Max scores per student
GAR_MAX_SCORES_PER_STUDENT=100

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# DEVELOPMENT OVERRIDES
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# These should be commented out in production

# Enable all flags in development
# NEXT_PUBLIC_FLAG_STUDY_HALL=true
# NEXT_PUBLIC_FLAG_NCAA_TRACKER=true
# NEXT_PUBLIC_FLAG_GAR_INTEGRATION=true
# NEXT_PUBLIC_FLAG_DASHBOARD_V2=true
# NEXT_PUBLIC_FLAG_NEW_HERO=true
# NEXT_PUBLIC_FLAG_HUB_SECTION=true
# NEXT_PUBLIC_FLAG_JSONLD=true

# Development database (local PostgreSQL)
# DATABASE_URL="postgresql://postgres:postgres@localhost:5432/go4it_dev"

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# DEPLOYMENT NOTES
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# 1. Copy this file to .env.local:
#    cp .env.production.example .env.local

# 2. Update DATABASE_URL with your production PostgreSQL credentials

# 3. Update Clerk keys from dashboard.clerk.com

# 4. Start with Week 1 flags only (Study Hall, NCAA, GAR APIs)

# 5. Monitor for 3-7 days before enabling next flag

# 6. Check metrics:
#    - API response times (should be < 500ms)
#    - Error rates (should be < 1%)
#    - User engagement (study logs, NCAA checklist usage)

# 7. After all flags stable for 1 week, consider full rollout

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# SECURITY CHECKLIST
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# [ ] Never commit .env.local to git (already in .gitignore)
# [ ] Rotate Clerk secret keys every 90 days
# [ ] Use strong PostgreSQL password (20+ characters)
# [ ] Enable SSL for database connections (sslmode=require)
# [ ] Set up Clerk webhook endpoint with HTTPS only
# [ ] Configure CORS for production domain only
# [ ] Enable database backups (daily minimum)
# [ ] Set up monitoring alerts (Sentry, LogRocket, etc.)
# [ ] Review and limit API rate limits based on expected usage
# [ ] Test rollback procedure before full deployment
