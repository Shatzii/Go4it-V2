<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Medication Tracker | ShotziOS Educational Platform</title>
  <style>
    /* Base styles optimized for dyslexia */
    :root {
      --bg-color: #0f0f1a;
      --text-color: #e6e6ff;
      --accent-color: #3498db;
      --accent-dark: #2980b9;
      --accent-light: #5dade2;
      --card-bg: #1a1a2e;
      --nav-bg: #141428;
      --success-color: #27ae60;
      --warning-color: #e67e22;
      --danger-color: #e74c3c;
      --inactive-color: #7f8c8d;
      --header-height: 64px;
      --sidebar-width: 260px;
      --border-radius: 8px;
    }
    
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    body {
      font-family: "Open Dyslexic", "Comic Sans MS", Arial, sans-serif;
      background-color: var(--bg-color);
      color: var(--text-color);
      line-height: 1.6;
      letter-spacing: 0.025em;
      word-spacing: 0.1em;
      padding-bottom: 60px;
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
    }
    
    /* Header styles */
    header {
      background-color: var(--nav-bg);
      height: var(--header-height);
      border-bottom: 2px solid var(--accent-color);
      position: sticky;
      top: 0;
      z-index: 100;
    }
    
    .header-content {
      display: flex;
      align-items: center;
      justify-content: space-between;
      height: 100%;
    }
    
    .logo {
      display: flex;
      align-items: center;
      font-size: 1.5rem;
      font-weight: bold;
      color: var(--accent-color);
    }
    
    .logo img {
      height: 40px;
      margin-right: 10px;
    }
    
    .avatar {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background-color: var(--accent-color);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: bold;
    }
    
    /* Navigation */
    nav {
      background-color: var(--nav-bg);
      padding: 10px 0;
      border-bottom: 1px solid rgba(255,255,255,0.1);
    }
    
    .nav-links {
      display: flex;
      gap: 20px;
      list-style: none;
      overflow-x: auto;
      padding: 0 20px;
    }
    
    .nav-links li a {
      color: var(--text-color);
      text-decoration: none;
      padding: 5px 10px;
      border-radius: var(--border-radius);
      transition: all 0.3s ease;
      white-space: nowrap;
      font-weight: 500;
    }
    
    .nav-links li a:hover,
    .nav-links li a.active {
      background-color: var(--accent-color);
      color: white;
    }
    
    /* Main content area */
    main {
      padding: 20px 0;
    }
    
    h1, h2, h3, h4, h5, h6 {
      color: var(--accent-color);
      margin-bottom: 15px;
      margin-top: 30px;
      font-weight: 600;
    }
    
    h1 {
      font-size: 2rem;
      border-bottom: 2px solid var(--accent-color);
      padding-bottom: 10px;
      margin-bottom: 20px;
    }
    
    h2 {
      font-size: 1.5rem;
    }
    
    h3 {
      font-size: 1.25rem;
    }
    
    p {
      margin-bottom: 15px;
    }
    
    /* Card layouts */
    .card {
      background-color: var(--card-bg);
      border-radius: var(--border-radius);
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      margin-bottom: 20px;
      overflow: hidden;
      border-left: 4px solid var(--accent-color);
    }
    
    .card-header {
      padding: 15px 20px;
      border-bottom: 1px solid rgba(255,255,255,0.1);
      font-weight: bold;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .card-content {
      padding: 20px;
    }
    
    /* Buttons */
    .btn {
      display: inline-block;
      background-color: var(--accent-color);
      color: white;
      padding: 10px 15px;
      border-radius: var(--border-radius);
      text-decoration: none;
      border: none;
      cursor: pointer;
      font-family: inherit;
      font-size: 1rem;
      transition: background-color 0.3s ease;
    }
    
    .btn:hover {
      background-color: var(--accent-dark);
    }
    
    .btn-success {
      background-color: var(--success-color);
    }
    
    .btn-success:hover {
      background-color: #219952;
    }
    
    .btn-warning {
      background-color: var(--warning-color);
    }
    
    .btn-warning:hover {
      background-color: #d35400;
    }
    
    .btn-danger {
      background-color: var(--danger-color);
    }
    
    .btn-danger:hover {
      background-color: #c0392b;
    }
    
    .btn-outlined {
      background-color: transparent;
      border: 2px solid var(--accent-color);
      color: var(--accent-color);
    }
    
    .btn-outlined:hover {
      background-color: var(--accent-color);
      color: white;
    }
    
    /* Grid layouts */
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }
    
    /* Dyslexia-specific styles */
    .dyslexia-friendly-text {
      font-size: 1.05rem;
      line-height: 1.8;
      word-spacing: 0.15em;
      letter-spacing: 0.04em;
    }
    
    /* Features specialized for dyslexia */
    .reading-guide {
      background-color: rgba(52, 152, 219, 0.2);
      padding: 2px;
      border-radius: 4px;
      cursor: pointer;
      position: relative;
    }
    
    .reading-guide::after {
      content: "üëÅÔ∏è";
      position: absolute;
      right: -20px;
      top: 50%;
      transform: translateY(-50%);
      font-size: 14px;
      opacity: 0.7;
    }
    
    .text-to-speech-btn {
      background-color: var(--accent-light);
      color: white;
      border: none;
      border-radius: 50%;
      width: 32px;
      height: 32px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      margin-left: 10px;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    
    .text-to-speech-btn:hover {
      background-color: var(--accent-color);
      transform: scale(1.1);
    }
    
    /* Form elements */
    .form-group {
      margin-bottom: 20px;
    }
    
    .form-label {
      display: block;
      margin-bottom: 8px;
      font-weight: 600;
    }
    
    .form-control {
      width: 100%;
      padding: 10px 15px;
      background-color: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: var(--border-radius);
      color: var(--text-color);
      font-family: inherit;
      font-size: 1rem;
      transition: all 0.3s ease;
    }
    
    .form-control:focus {
      outline: none;
      border-color: var(--accent-color);
      box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.3);
    }
    
    select.form-control {
      appearance: none;
      background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23e6e6ff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M6 9l6 6 6-6'/%3E%3C/svg%3E");
      background-repeat: no-repeat;
      background-position: right 10px center;
      background-size: 16px;
      padding-right: 40px;
    }
    
    /* Tab panel styles */
    .tab-container {
      margin-bottom: 30px;
    }
    
    .tab-buttons {
      display: flex;
      border-bottom: 2px solid var(--accent-color);
      margin-bottom: 20px;
    }
    
    .tab-btn {
      padding: 10px 20px;
      background-color: transparent;
      border: none;
      color: var(--text-color);
      cursor: pointer;
      font-family: inherit;
      font-size: 1rem;
      font-weight: 600;
      transition: all 0.3s ease;
      border-bottom: 3px solid transparent;
      margin-bottom: -2px;
    }
    
    .tab-btn:hover {
      color: var(--accent-color);
    }
    
    .tab-btn.active {
      color: var(--accent-color);
      border-bottom-color: var(--accent-color);
    }
    
    .tab-content {
      display: none;
    }
    
    .tab-content.active {
      display: block;
    }
    
    /* Calendar styles */
    .calendar {
      margin-top: 20px;
    }
    
    .calendar-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
    }
    
    .calendar-nav {
      display: flex;
      gap: 10px;
    }
    
    .calendar-title {
      font-size: 1.2rem;
      font-weight: bold;
    }
    
    .calendar-grid {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 10px;
    }
    
    .calendar-day-header {
      text-align: center;
      font-weight: bold;
      padding: 10px;
    }
    
    .calendar-day {
      background-color: var(--card-bg);
      border-radius: var(--border-radius);
      padding: 10px;
      min-height: 120px;
      position: relative;
    }
    
    .calendar-day.other-month {
      opacity: 0.5;
    }
    
    .calendar-day-number {
      position: absolute;
      top: 5px;
      right: 5px;
      width: 24px;
      height: 24px;
      background-color: rgba(255, 255, 255, 0.1);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.8rem;
    }
    
    .calendar-day.today .calendar-day-number {
      background-color: var(--accent-color);
      color: white;
    }
    
    .calendar-event {
      background-color: rgba(52, 152, 219, 0.2);
      border-left: 3px solid var(--accent-color);
      padding: 5px;
      border-radius: 3px;
      margin-top: 5px;
      font-size: 0.8rem;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    
    .calendar-event:hover {
      background-color: rgba(52, 152, 219, 0.3);
    }
    
    .calendar-event.medication {
      border-left-color: var(--warning-color);
      background-color: rgba(230, 126, 34, 0.2);
    }
    
    .calendar-event.assessment {
      border-left-color: var(--success-color);
      background-color: rgba(39, 174, 96, 0.2);
    }
    
    /* Medication log styles */
    .medication-log {
      margin-top: 20px;
    }
    
    .medication-card {
      background-color: var(--card-bg);
      border-radius: var(--border-radius);
      padding: 15px;
      margin-bottom: 15px;
      border-left: 4px solid var(--warning-color);
      position: relative;
    }
    
    .medication-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 10px;
    }
    
    .medication-tag {
      display: inline-block;
      padding: 3px 8px;
      border-radius: 12px;
      font-size: 0.8rem;
      background-color: rgba(52, 152, 219, 0.2);
    }
    
    /* Performance correlation styles */
    .correlation-chart {
      height: 300px;
      margin: 30px 0;
      position: relative;
    }
    
    .correlation-line {
      position: absolute;
      height: 2px;
      background-color: rgba(255, 255, 255, 0.2);
      left: 0;
      right: 0;
    }
    
    .correlation-point {
      position: absolute;
      width: 12px;
      height: 12px;
      border-radius: 50%;
      background-color: var(--accent-color);
      transform: translate(-50%, -50%);
      cursor: pointer;
    }
    
    .correlation-point:hover {
      transform: translate(-50%, -50%) scale(1.5);
    }
    
    .correlation-point.medication {
      background-color: var(--warning-color);
    }
    
    .correlation-point.performance {
      background-color: var(--success-color);
    }
    
    .point-tooltip {
      position: absolute;
      background-color: var(--card-bg);
      border-radius: var(--border-radius);
      padding: 10px;
      max-width: 200px;
      z-index: 10;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      font-size: 0.9rem;
      pointer-events: none;
      opacity: 0;
      transition: opacity 0.3s ease;
    }
    
    /* Medication info styles */
    .medication-info {
      margin-top: 20px;
    }
    
    .medication-info-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .medication-search {
      position: relative;
      width: 300px;
    }
    
    .medication-search input {
      width: 100%;
      padding: 10px 15px;
      padding-right: 40px;
      background-color: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: var(--border-radius);
      color: var(--text-color);
      font-family: inherit;
      font-size: 1rem;
    }
    
    .medication-search-icon {
      position: absolute;
      right: 15px;
      top: 50%;
      transform: translateY(-50%);
      opacity: 0.5;
    }
    
    .medication-detail {
      margin-top: 20px;
      margin-bottom: 30px;
    }
    
    .medication-meta {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      margin-bottom: 20px;
    }
    
    .medication-meta-item {
      background-color: rgba(52, 152, 219, 0.1);
      padding: 10px 15px;
      border-radius: var(--border-radius);
    }
    
    .medication-meta-label {
      font-size: 0.8rem;
      opacity: 0.7;
      margin-bottom: 5px;
    }
    
    .medication-reference {
      font-size: 0.8rem;
      opacity: 0.7;
      margin-top: 20px;
      font-style: italic;
    }
    
    /* Analytics styles */
    .analytics-chart-container {
      margin: 30px 0;
      height: 400px;
      position: relative;
    }
    
    .analytics-insight {
      background-color: rgba(52, 152, 219, 0.1);
      border-radius: var(--border-radius);
      padding: 15px;
      margin-bottom: 15px;
    }
    
    .analytics-insight-title {
      font-weight: bold;
      margin-bottom: 10px;
      color: var(--accent-color);
    }
    
    /* Responsive calendar */
    @media (max-width: 768px) {
      .calendar-grid {
        grid-template-columns: repeat(1, 1fr);
      }
      
      .calendar-day-header {
        display: none;
      }
      
      .calendar-day {
        display: flex;
        flex-direction: column;
      }
      
      .calendar-day-number {
        position: static;
        align-self: flex-start;
        margin-bottom: 10px;
      }
    }
    
    /* Help character bubble */
    .help-character {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background-color: var(--accent-color);
      width: 60px;
      height: 60px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2rem;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
      cursor: pointer;
      z-index: 100;
      transition: all 0.3s ease;
    }
    
    .help-character:hover {
      transform: scale(1.1);
    }
    
    .help-panel {
      position: fixed;
      bottom: 90px;
      right: 20px;
      width: 300px;
      background-color: var(--card-bg);
      border-radius: var(--border-radius);
      padding: 15px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
      z-index: 100;
      transition: all 0.3s ease;
      opacity: 0;
      visibility: hidden;
      transform: translateY(20px);
    }
    
    .help-panel.active {
      opacity: 1;
      visibility: visible;
      transform: translateY(0);
    }
    
    .help-panel-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 10px;
      padding-bottom: 10px;
      border-bottom: 1px solid rgba(255,255,255,0.1);
    }
    
    .help-character-name {
      font-weight: bold;
      color: var(--accent-color);
    }
    
    .help-close {
      background: none;
      border: none;
      color: var(--text-color);
      cursor: pointer;
      font-size: 1.2rem;
    }
    
    .help-message {
      margin-bottom: 15px;
    }
    
    .help-options {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }
    
    .help-option {
      padding: 8px 12px;
      background-color: rgba(52, 152, 219, 0.1);
      border-radius: var(--border-radius);
      cursor: pointer;
      transition: all 0.3s ease;
    }
    
    .help-option:hover {
      background-color: rgba(52, 152, 219, 0.3);
    }
    
    /* Responsive styles */
    @media (max-width: 768px) {
      .container {
        padding: 0 15px;
      }
      
      .grid {
        grid-template-columns: 1fr;
      }
      
      .tab-buttons {
        flex-wrap: wrap;
      }
    }
  </style>
</head>
<body>
  <header>
    <div class="container">
      <div class="header-content">
        <div class="logo">
          <img src="/logo.png" alt="ShotziOS Logo" />
          <span>ShotziOS Educational Platform</span>
        </div>
        <div class="avatar">S</div>
      </div>
    </div>
  </header>
  
  <nav>
    <div class="container">
      <ul class="nav-links">
        <li><a href="/dashboard">Dashboard</a></li>
        <li><a href="/superhero-school">Superhero School</a></li>
        <li><a href="/superhero-school/dyslexia-learning">Dyslexia Super-Learning</a></li>
        <li><a href="/superhero-school/adaptive-learning">AI Adaptive Learning</a></li>
        <li><a href="/superhero-school/gpa-calculator">GPA Calculator</a></li>
        <li><a href="/superhero-school/medication-tracker" class="active">Medication Tracker</a></li>
        <li><a href="/superhero-school/medical-vault">Medical Vault</a></li>
      </ul>
    </div>
  </nav>
  
  <main class="container">
    <h1>Medication Tracker</h1>
    
    <div class="card">
      <div class="card-header">
        <span>Medication and Academic Performance Tracker</span>
        <button class="text-to-speech-btn" title="Read aloud">üîä</button>
      </div>
      <div class="card-content dyslexia-friendly-text">
        <p>This secure tracking system helps parents and educational professionals monitor how <span class="reading-guide">medication timing and dosages</span> may affect a student's academic performance, focus, and engagement. The system uses AI-powered analysis to identify patterns and correlations.</p>
        
        <p><strong>Important:</strong> This tool is designed for educational support purposes only. All medical decisions should be made in consultation with healthcare providers. Access to this data is restricted to authorized users only.</p>
      </div>
    </div>
    
    <div class="tab-container">
      <div class="tab-buttons">
        <button class="tab-btn active" data-tab="calendar">Medication Calendar</button>
        <button class="tab-btn" data-tab="log">Medication Log</button>
        <button class="tab-btn" data-tab="performance">Performance Correlation</button>
        <button class="tab-btn" data-tab="info">Medication Information</button>
        <button class="tab-btn" data-tab="analytics">AI Analytics</button>
      </div>
      
      <div id="calendar-tab" class="tab-content active">
        <div class="card">
          <div class="card-content">
            <div class="form-group">
              <label class="form-label" for="student-select">Select Student:</label>
              <select class="form-control" id="student-select">
                <option value="">Select a student</option>
                <option value="1">Alex Bronson (Grade 3)</option>
                <option value="2">Jamie Torres (Grade 7)</option>
                <option value="3">Sam Liu (Grade 10)</option>
              </select>
            </div>
            
            <div class="calendar">
              <div class="calendar-header">
                <div class="calendar-nav">
                  <button class="btn btn-outlined" id="prev-month">‚óÄ</button>
                  <button class="btn btn-outlined" id="next-month">‚ñ∂</button>
                </div>
                <div class="calendar-title">April 2025</div>
                <button class="btn" id="add-medication-btn">Add Medication Entry</button>
              </div>
              
              <div class="calendar-grid">
                <div class="calendar-day-header">Sun</div>
                <div class="calendar-day-header">Mon</div>
                <div class="calendar-day-header">Tue</div>
                <div class="calendar-day-header">Wed</div>
                <div class="calendar-day-header">Thu</div>
                <div class="calendar-day-header">Fri</div>
                <div class="calendar-day-header">Sat</div>
                
                <!-- Row 1 -->
                <div class="calendar-day other-month">
                  <div class="calendar-day-number">30</div>
                </div>
                <div class="calendar-day other-month">
                  <div class="calendar-day-number">31</div>
                </div>
                <div class="calendar-day">
                  <div class="calendar-day-number">1</div>
                  <div class="calendar-event medication">Adderall XR 10mg - 7:30 AM</div>
                  <div class="calendar-event assessment">Reading Comprehension Test</div>
                </div>
                <div class="calendar-day">
                  <div class="calendar-day-number">2</div>
                  <div class="calendar-event medication">Adderall XR 10mg - 7:30 AM</div>
                </div>
                <div class="calendar-day">
                  <div class="calendar-day-number">3</div>
                  <div class="calendar-event medication">Adderall XR 10mg - 7:30 AM</div>
                </div>
                <div class="calendar-day">
                  <div class="calendar-day-number">4</div>
                  <div class="calendar-event medication">Adderall XR 10mg - 7:30 AM</div>
                </div>
                <div class="calendar-day">
                  <div class="calendar-day-number">5</div>
                </div>
                
                <!-- Row 2 -->
                <div class="calendar-day">
                  <div class="calendar-day-number">6</div>
                </div>
                <div class="calendar-day">
                  <div class="calendar-day-number">7</div>
                  <div class="calendar-event medication">Adderall XR 10mg - 7:30 AM</div>
                </div>
                <div class="calendar-day">
                  <div class="calendar-day-number">8</div>
                  <div class="calendar-event medication">Adderall XR 10mg - 7:30 AM</div>
                  <div class="calendar-event assessment">Math Quiz</div>
                </div>
                <div class="calendar-day">
                  <div class="calendar-day-number">9</div>
                  <div class="calendar-event medication">Adderall XR 10mg - 7:30 AM</div>
                </div>
                <div class="calendar-day today">
                  <div class="calendar-day-number">10</div>
                  <div class="calendar-event medication">Adderall XR 10mg - 7:30 AM</div>
                  <div class="calendar-event assessment">Reading Group</div>
                </div>
                <div class="calendar-day">
                  <div class="calendar-day-number">11</div>
                  <div class="calendar-event medication">Adderall XR 10mg - 7:30 AM</div>
                </div>
                <div class="calendar-day">
                  <div class="calendar-day-number">12</div>
                </div>
                
                <!-- Additional rows would follow the same pattern -->
              </div>
            </div>
          </div>
        </div>
        
        <!-- Medication Entry Modal (Hidden by default) -->
        <div class="card" id="medication-entry-modal" style="display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 90%; max-width: 500px; z-index: 1000; box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);">
          <div class="card-header">
            <span>Add Medication Entry</span>
            <button id="close-modal" style="background: none; border: none; color: white; cursor: pointer; font-size: 1.2rem;">‚úï</button>
          </div>
          <div class="card-content">
            <div class="form-group">
              <label class="form-label" for="medication-name">Medication Name:</label>
              <input type="text" class="form-control" id="medication-name" placeholder="E.g., Adderall XR, Ritalin, Concerta">
            </div>
            
            <div class="form-group">
              <label class="form-label" for="medication-dosage">Dosage:</label>
              <input type="text" class="form-control" id="medication-dosage" placeholder="E.g., 10mg, 20mg">
            </div>
            
            <div class="form-group">
              <label class="form-label" for="medication-time">Time Taken:</label>
              <input type="time" class="form-control" id="medication-time">
            </div>
            
            <div class="form-group">
              <label class="form-label" for="medication-date">Date:</label>
              <input type="date" class="form-control" id="medication-date">
            </div>
            
            <div class="form-group">
              <label class="form-label" for="medication-notes">Notes:</label>
              <textarea class="form-control" id="medication-notes" rows="3" placeholder="Any additional information, observations, or special circumstances"></textarea>
            </div>
            
            <button class="btn btn-success" id="save-medication-btn">Save Medication Entry</button>
          </div>
        </div>
        
        <!-- Semi-transparent overlay for modal background -->
        <div id="modal-overlay" style="display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background-color: rgba(0, 0, 0, 0.5); z-index: 999;"></div>
      </div>
      
      <div id="log-tab" class="tab-content">
        <div class="card">
          <div class="card-content">
            <div class="form-group">
              <label class="form-label" for="log-student-select">Select Student:</label>
              <select class="form-control" id="log-student-select">
                <option value="">Select a student</option>
                <option value="1">Alex Bronson (Grade 3)</option>
                <option value="2">Jamie Torres (Grade 7)</option>
                <option value="3">Sam Liu (Grade 10)</option>
              </select>
            </div>
            
            <div class="form-group">
              <label class="form-label" for="log-date-range">Date Range:</label>
              <select class="form-control" id="log-date-range">
                <option value="7">Last 7 Days</option>
                <option value="30" selected>Last 30 Days</option>
                <option value="90">Last 90 Days</option>
                <option value="custom">Custom Range</option>
              </select>
            </div>
            
            <div id="custom-date-range" style="display: none;">
              <div class="form-group">
                <label class="form-label" for="start-date">Start Date:</label>
                <input type="date" class="form-control" id="start-date">
              </div>
              
              <div class="form-group">
                <label class="form-label" for="end-date">End Date:</label>
                <input type="date" class="form-control" id="end-date">
              </div>
            </div>
            
            <button class="btn" id="view-log-btn">View Medication Log</button>
          </div>
        </div>
        
        <div class="medication-log">
          <h3>Medication Log for <span id="log-student-name">Alex Bronson</span></h3>
          
          <div class="medication-card">
            <h4>April 10, 2025</h4>
            <div>
              <strong>Medication:</strong> Adderall XR 10mg
            </div>
            <div>
              <strong>Time Taken:</strong> 7:30 AM
            </div>
            <div>
              <strong>Notes:</strong> Taken with breakfast. No side effects reported.
            </div>
            <div class="medication-tags">
              <div class="medication-tag">On Schedule</div>
              <div class="medication-tag">Full Dose</div>
            </div>
          </div>
          
          <div class="medication-card">
            <h4>April 9, 2025</h4>
            <div>
              <strong>Medication:</strong> Adderall XR 10mg
            </div>
            <div>
              <strong>Time Taken:</strong> 7:30 AM
            </div>
            <div>
              <strong>Notes:</strong> Taken with breakfast. Student reported mild headache in afternoon.
            </div>
            <div class="medication-tags">
              <div class="medication-tag">On Schedule</div>
              <div class="medication-tag">Full Dose</div>
              <div class="medication-tag" style="background-color: rgba(231, 76, 60, 0.2);">Side Effect Noted</div>
            </div>
          </div>
          
          <div class="medication-card">
            <h4>April 8, 2025</h4>
            <div>
              <strong>Medication:</strong> Adderall XR 10mg
            </div>
            <div>
              <strong>Time Taken:</strong> 7:30 AM
            </div>
            <div>
              <strong>Notes:</strong> Taken with breakfast. No side effects reported.
            </div>
            <div class="medication-tags">
              <div class="medication-tag">On Schedule</div>
              <div class="medication-tag">Full Dose</div>
            </div>
          </div>
          
          <button class="btn btn-outlined" style="margin-top: 20px;">Load More Entries</button>
        </div>
      </div>
      
      <div id="performance-tab" class="tab-content">
        <div class="card">
          <div class="card-content">
            <div class="form-group">
              <label class="form-label" for="performance-student-select">Select Student:</label>
              <select class="form-control" id="performance-student-select">
                <option value="">Select a student</option>
                <option value="1">Alex Bronson (Grade 3)</option>
                <option value="2">Jamie Torres (Grade 7)</option>
                <option value="3">Sam Liu (Grade 10)</option>
              </select>
            </div>
            
            <div class="form-group">
              <label class="form-label" for="performance-period">Time Period:</label>
              <select class="form-control" id="performance-period">
                <option value="30">Last 30 Days</option>
                <option value="90">Last 90 Days</option>
                <option value="semester">Current Semester</option>
                <option value="year">Academic Year</option>
              </select>
            </div>
            
            <div class="form-group">
              <label class="form-label" for="performance-metric">Performance Metric:</label>
              <select class="form-control" id="performance-metric">
                <option value="engagement">Classroom Engagement</option>
                <option value="focus">Focus Duration</option>
                <option value="completion">Assignment Completion</option>
                <option value="assessment">Assessment Scores</option>
                <option value="combined">Combined Performance Index</option>
              </select>
            </div>
            
            <button class="btn" id="analyze-performance-btn">Analyze Performance Correlation</button>
          </div>
        </div>
        
        <div id="performance-results" style="margin-top: 30px;">
          <h3>Medication and Academic Performance Correlation</h3>
          
          <div class="card">
            <div class="card-header">
              <span>Performance Analysis</span>
            </div>
            <div class="card-content">
              <p class="dyslexia-friendly-text">The analysis below shows the relationship between medication timing/dosage and academic performance metrics. Points represent individual days, with performance metrics tracked against medication administration.</p>
              
              <div class="correlation-chart" id="performance-chart">
                <!-- Y-axis labels -->
                <div style="position: absolute; left: -50px; top: 0; height: 100%; display: flex; flex-direction: column; justify-content: space-between;">
                  <div>High</div>
                  <div>Medium</div>
                  <div>Low</div>
                </div>
                
                <!-- X-axis labels -->
                <div style="position: absolute; bottom: -30px; left: 0; width: 100%; display: flex; justify-content: space-between;">
                  <div>March 11</div>
                  <div>March 25</div>
                  <div>April 10</div>
                </div>
                
                <!-- Grid lines -->
                <div class="correlation-line" style="top: 25%;"></div>
                <div class="correlation-line" style="top: 50%;"></div>
                <div class="correlation-line" style="top: 75%;"></div>
                
                <!-- Performance points (sample data points) -->
                <div class="correlation-point performance" style="left: 10%; top: 70%;" data-tooltip="March 11: Focus Duration - 25 minutes (Low)"></div>
                <div class="correlation-point medication" style="left: 10%; top: 10%;" data-tooltip="March 11: Medication taken at 8:15 AM (Late)"></div>
                
                <div class="correlation-point performance" style="left: 20%; top: 30%;" data-tooltip="March 18: Focus Duration - 35 minutes (Medium)"></div>
                <div class="correlation-point medication" style="left: 20%; top: 20%;" data-tooltip="March 18: Medication taken at 7:45 AM"></div>
                
                <div class="correlation-point performance" style="left: 30%; top: 20%;" data-tooltip="March 25: Focus Duration - 45 minutes (High)"></div>
                <div class="correlation-point medication" style="left: 30%; top: 20%;" data-tooltip="March 25: Medication taken at 7:30 AM (On time)"></div>
                
                <div class="correlation-point performance" style="left: 40%; top: 25%;" data-tooltip="April 1: Focus Duration - 40 minutes (High)"></div>
                <div class="correlation-point medication" style="left: 40%; top: 20%;" data-tooltip="April 1: Medication taken at 7:30 AM (On time)"></div>
                
                <div class="correlation-point performance" style="left: 50%; top: 25%;" data-tooltip="April 2: Focus Duration - 40 minutes (High)"></div>
                <div class="correlation-point medication" style="left: 50%; top: 20%;" data-tooltip="April 2: Medication taken at 7:30 AM (On time)"></div>
                
                <div class="correlation-point performance" style="left: 60%; top: 20%;" data-tooltip="April 3: Focus Duration - 45 minutes (High)"></div>
                <div class="correlation-point medication" style="left: 60%; top: 20%;" data-tooltip="April 3: Medication taken at 7:30 AM (On time)"></div>
                
                <div class="correlation-point performance" style="left: 70%; top: 22%;" data-tooltip="April 4: Focus Duration - 42 minutes (High)"></div>
                <div class="correlation-point medication" style="left: 70%; top: 20%;" data-tooltip="April 4: Medication taken at 7:30 AM (On time)"></div>
                
                <div class="correlation-point performance" style="left: 90%; top: 20%;" data-tooltip="April 8: Focus Duration - 45 minutes (High)"></div>
                <div class="correlation-point medication" style="left: 90%; top: 20%;" data-tooltip="April 8: Medication taken at 7:30 AM (On time)"></div>
                
                <!-- Tooltip element -->
                <div class="point-tooltip" id="point-tooltip"></div>
                
                <!-- Legend -->
                <div style="position: absolute; top: 10px; right: 10px; background-color: rgba(26, 26, 46, 0.8); padding: 10px; border-radius: 5px;">
                  <div style="display: flex; align-items: center; margin-bottom: 5px;">
                    <div style="width: 12px; height: 12px; border-radius: 50%; background-color: var(--success-color); margin-right: 10px;"></div>
                    <div>Performance Metric</div>
                  </div>
                  <div style="display: flex; align-items: center;">
                    <div style="width: 12px; height: 12px; border-radius: 50%; background-color: var(--warning-color); margin-right: 10px;"></div>
                    <div>Medication Timing</div>
                  </div>
                </div>
              </div>
              
              <h4>Key Insights</h4>
              <ul class="dyslexia-friendly-text">
                <li><strong>Timing Impact:</strong> Consistent medication timing (7:30 AM) correlates with improved focus duration.</li>
                <li><strong>Optimal Window:</strong> Highest performance observed when medication is taken 60-90 minutes before academic tasks.</li>
                <li><strong>Consistency Pattern:</strong> More consistent timing shows stronger correlation with performance than minor dosage variations.</li>
              </ul>
              
              <h4>Recommendations</h4>
              <p class="dyslexia-friendly-text">Based on the observed patterns, maintaining a consistent medication schedule with administration at 7:30 AM appears to support optimal academic performance. Morning activities scheduled between 9:00-11:30 AM align with peak medication effectiveness.</p>
            </div>
          </div>
        </div>
      </div>
      
      <div id="info-tab" class="tab-content">
        <div class="card">
          <div class="card-content">
            <div class="medication-info-header">
              <h3>Medication Information Library</h3>
              <div class="medication-search">
                <input type="text" placeholder="Search medications..." id="medication-search-input">
                <span class="medication-search-icon">üîç</span>
              </div>
            </div>
            
            <p class="dyslexia-friendly-text" style="margin-top: 15px;">This library provides educational information about medications commonly prescribed for conditions that may affect learning, including ADHD, anxiety, and other neurodevelopmental conditions that often co-occur with dyslexia.</p>
            
            <div class="form-group" style="margin-top: 20px;">
              <label class="form-label" for="medication-select">Quick Access:</label>
              <select class="form-control" id="medication-select">
                <option value="">Select a medication</option>
                <option value="adderall">Adderall (Mixed Amphetamine Salts)</option>
                <option value="ritalin">Ritalin (Methylphenidate)</option>
                <option value="concerta">Concerta (Methylphenidate Extended Release)</option>
                <option value="vyvanse">Vyvanse (Lisdexamfetamine)</option>
                <option value="strattera">Strattera (Atomoxetine)</option>
                <option value="intuniv">Intuniv (Guanfacine)</option>
                <option value="zoloft">Zoloft (Sertraline)</option>
              </select>
            </div>
            
            <button class="btn" id="view-medication-info-btn">View Medication Information</button>
            
            <div class="medication-detail" id="medication-detail-panel">
              <h3>Adderall (Mixed Amphetamine Salts)</h3>
              
              <div class="medication-meta">
                <div class="medication-meta-item">
                  <div class="medication-meta-label">Medication Class</div>
                  <div>Central Nervous System Stimulant</div>
                </div>
                
                <div class="medication-meta-item">
                  <div class="medication-meta-label">Common Forms</div>
                  <div>Immediate Release (IR), Extended Release (XR)</div>
                </div>
                
                <div class="medication-meta-item">
                  <div class="medication-meta-label">Typical Onset</div>
                  <div>IR: 30-60 minutes, XR: 30-60 minutes</div>
                </div>
                
                <div class="medication-meta-item">
                  <div class="medication-meta-label">Duration of Effect</div>
                  <div>IR: 4-6 hours, XR: 10-12 hours</div>
                </div>
              </div>
              
              <h4>Educational Context</h4>
              <p class="dyslexia-friendly-text">Adderall is commonly prescribed for attention deficit hyperactivity disorder (ADHD), which frequently co-occurs with dyslexia. It works by increasing the activity of certain neurotransmitters in the brain, particularly dopamine and norepinephrine, which can improve attention, focus, and impulse control.</p>
              
              <h4>Potential Academic Benefits</h4>
              <ul class="dyslexia-friendly-text">
                <li>Improved focus and attention during academic tasks</li>
                <li>Enhanced ability to complete tasks and follow multi-step directions</li>
                <li>Reduced impulsivity and distractibility in classroom settings</li>
                <li>Increased ability to organize thoughts for writing tasks</li>
                <li>Better regulation of activity level during seated work</li>
              </ul>
              
              <h4>Academic Considerations</h4>
              <ul class="dyslexia-friendly-text">
                <li>Timing medication so peak effectiveness aligns with most challenging academic subjects</li>
                <li>Potential for reduced appetite during lunch periods (consider scheduling accommodations)</li>
                <li>Possible rebound effects as medication wears off (plan afternoon activities accordingly)</li>
                <li>May need adjustments to dosing schedule for after-school activities or homework sessions</li>
              </ul>
              
              <h4>Educational Accommodations to Consider</h4>
              <ul class="dyslexia-friendly-text">
                <li>Schedule most challenging academic tasks during peak medication effectiveness</li>
                <li>Provide protein-rich snack options throughout the day to mitigate appetite suppression</li>
                <li>Implement consistent routines to support medication effectiveness</li>
                <li>Consider movement breaks as medication effectiveness changes throughout the day</li>
                <li>Provide explicit instruction in organizational strategies to enhance medication benefits</li>
              </ul>
              
              <div class="medication-reference">Information last updated: April 2025 | For educational reference only. Always consult healthcare providers for medical advice.</div>
            </div>
          </div>
        </div>
      </div>
      
      <div id="analytics-tab" class="tab-content">
        <div class="card">
          <div class="card-content">
            <div class="form-group">
              <label class="form-label" for="analytics-student-select">Select Student:</label>
              <select class="form-control" id="analytics-student-select">
                <option value="">Select a student</option>
                <option value="1">Alex Bronson (Grade 3)</option>
                <option value="2">Jamie Torres (Grade 7)</option>
                <option value="3">Sam Liu (Grade 10)</option>
              </select>
            </div>
            
            <div class="form-group">
              <label class="form-label" for="analytics-period">Analysis Period:</label>
              <select class="form-control" id="analytics-period">
                <option value="30">Last 30 Days</option>
                <option value="90">Last 90 Days</option>
                <option value="semester">Current Semester</option>
                <option value="year">Academic Year</option>
              </select>
            </div>
            
            <button class="btn" id="generate-analytics-btn">Generate AI Analytics</button>
          </div>
        </div>
        
        <div id="analytics-results" style="margin-top: 30px;">
          <h3>AI-Enhanced Medication & Learning Analytics</h3>
          
          <p class="dyslexia-friendly-text">Using the Perplexity AI platform, we've analyzed the relationship between medication patterns and learning outcomes to identify optimal conditions for academic success.</p>
          
          <div class="analytics-chart-container">
            <img src="https://via.placeholder.com/900x400?text=Detailed+Analytics+Visualization" alt="Analytics visualization" style="width: 100%; height: 100%; object-fit: cover; border-radius: var(--border-radius);">
          </div>
          
          <div class="grid">
            <div class="analytics-insight">
              <div class="analytics-insight-title">Optimal Timing Patterns</div>
              <p class="dyslexia-friendly-text">Medication administration between 7:00-7:30 AM correlates with 32% higher engagement during morning academic blocks (8:30-11:30 AM). This timing appears to maximize focus during critical instructional periods.</p>
            </div>
            
            <div class="analytics-insight">
              <div class="analytics-insight-title">Subject-Specific Patterns</div>
              <p class="dyslexia-friendly-text">Performance in language arts shows the strongest correlation with medication timing (r=0.78), with mathematics showing moderate correlation (r=0.62). Visual arts performance shows minimal correlation (r=0.31).</p>
            </div>
            
            <div class="analytics-insight">
              <div class="analytics-insight-title">Environmental Factors</div>
              <p class="dyslexia-friendly-text">Effectiveness appears enhanced in structured, low-distraction environments with clear visual supports. High-stimulation environments show 25% reduction in medication effectiveness, regardless of timing.</p>
            </div>
            
            <div class="analytics-insight">
              <div class="analytics-insight-title">Learning Mode Compatibility</div>
              <p class="dyslexia-friendly-text">Multi-sensory learning approaches show stronger performance outcomes (41% improvement) compared to text-heavy instruction (22% improvement) during peak medication effectiveness periods.</p>
            </div>
          </div>
          
          <div class="card" style="margin-top: 30px;">
            <div class="card-header">
              <span>Personalized Recommendations</span>
            </div>
            <div class="card-content">
              <h4>Academic Schedule Optimization</h4>
              <p class="dyslexia-friendly-text">Based on the analysis of medication patterns and learning outcomes, consider the following personalized schedule adjustments:</p>
              
              <ul class="dyslexia-friendly-text">
                <li><strong>Schedule Complex Reading/Writing Tasks:</strong> 9:00-11:00 AM (aligns with peak medication effectiveness)</li>
                <li><strong>Mathematics Instruction:</strong> 11:00 AM-12:30 PM (corresponds to strong but not peak effectiveness)</li>
                <li><strong>Physically Active Learning:</strong> 1:30-2:30 PM (leverages natural energy patterns as medication effect begins to decrease)</li>
                <li><strong>Creative/Arts Activities:</strong> 2:30-3:30 PM (less dependent on medication effects)</li>
              </ul>
              
              <h4>Instructional Approach Recommendations</h4>
              <p class="dyslexia-friendly-text">To maximize the benefits of current medication patterns, consider these instructional approach adjustments:</p>
              
              <ul class="dyslexia-friendly-text">
                <li><strong>Reading Support:</strong> Integrate text-to-speech tools during afternoon reading tasks when medication effects may be reduced</li>
                <li><strong>Mathematics:</strong> Use visual models and manipulatives consistently, with increased scaffolding in afternoon sessions</li>
                <li><strong>Writing Tasks:</strong> Schedule initial drafting during peak medication times, editing during moderate effectiveness periods</li>
                <li><strong>Test-Taking:</strong> Schedule assessments during 9:30-11:00 AM window when possible</li>
              </ul>
              
              <div style="margin-top: 20px;">
                <button class="btn btn-success">Apply These Recommendations</button>
                <button class="btn btn-outlined" style="margin-left: 10px;">Share with Teacher</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>
  
  <div id="help-bubble" class="help-character">üë©‚Äç‚öïÔ∏è</div>
  
  <div id="help-content" class="help-panel">
    <div class="help-panel-header">
      <span class="help-character-name">Dr. Emma - Medical Support</span>
      <button id="help-close">‚úï</button>
    </div>
    <div class="help-message dyslexia-friendly-text">
      <p>Hi there! I'm Dr. Emma, your medication tracking guide. I notice you're exploring our medication and academic performance tracking system. How can I help you today?</p>
    </div>
    <div class="help-options">
      <div class="help-option dyslexia-friendly-text">How is student privacy protected?</div>
      <div class="help-option dyslexia-friendly-text">How do I track medication effectiveness?</div>
      <div class="help-option dyslexia-friendly-text">What should I share with teachers?</div>
      <div class="help-option dyslexia-friendly-text">How often should I update the tracking?</div>
    </div>
  </div>
  
  <script>
    // Tab switching functionality
    document.querySelectorAll('.tab-btn').forEach(tab => {
      tab.addEventListener('click', () => {
        // Remove active class from all tabs
        document.querySelectorAll('.tab-btn').forEach(t => t.classList.remove('active'));
        // Add active class to clicked tab
        tab.classList.add('active');
        
        // Hide all tab panels
        document.querySelectorAll('.tab-content').forEach(panel => panel.classList.remove('active'));
        // Show the corresponding panel
        const tabId = tab.getAttribute('data-tab') + '-tab';
        document.getElementById(tabId).classList.add('active');
      });
    });
    
    // Text-to-speech functionality
    document.querySelectorAll('.text-to-speech-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        // Get the parent card
        const card = btn.closest('.card');
        // Get the text content
        const textContent = card.querySelector('.card-content').textContent.trim();
        
        // Use the browser's speech synthesis API
        if ('speechSynthesis' in window) {
          const speech = new SpeechSynthesisUtterance();
          speech.text = textContent;
          speech.rate = 0.9; // Slightly slower rate for dyslexic readers
          speech.pitch = 1;
          window.speechSynthesis.speak(speech);
        } else {
          alert('Sorry, your browser does not support text-to-speech!');
        }
      });
    });
    
    // Reading guide functionality
    document.querySelectorAll('.reading-guide').forEach(guide => {
      guide.addEventListener('click', () => {
        guide.style.backgroundColor = 'rgba(52, 152, 219, 0.4)';
        setTimeout(() => {
          guide.style.backgroundColor = 'rgba(52, 152, 219, 0.2)';
        }, 1000);
      });
    });
    
    // Help bubble functionality
    const helpBubble = document.getElementById('help-bubble');
    const helpContent = document.getElementById('help-content');
    const helpClose = document.getElementById('help-close');
    
    helpBubble.addEventListener('click', () => {
      helpContent.classList.toggle('active');
    });
    
    helpClose.addEventListener('click', () => {
      helpContent.classList.remove('active');
    });
    
    // Help options functionality
    document.querySelectorAll('.help-option').forEach(option => {
      option.addEventListener('click', () => {
        const optionText = option.textContent.trim();
        
        // Simple response system
        let response = '';
        
        if (optionText.includes('privacy protected')) {
          response = "Our system uses multiple layers of security to protect student medical information. All medication data is encrypted, HIPAA-compliant, and only accessible to authorized users with proper authentication. Medical information is completely separate from academic records, with teachers only seeing recommendations, not specific medication details.";
        } else if (optionText.includes('track medication effectiveness')) {
          response = "The best approach is consistent tracking: 1) Record each dose with exact timing 2) Note any academic assessments or observations on the same day 3) Use our Performance Correlation tab to analyze patterns 4) Look for connections between timing/dosage and specific academic tasks. The AI Analytics will help identify patterns that might not be immediately obvious.";
        } else if (optionText.includes('share with teachers')) {
          response = "Teachers should receive accommodation recommendations and optimal learning condition information, but not specific medication details. Use the 'Share with Teacher' option in the Analytics tab to generate a teacher-appropriate report that focuses on learning strategies without revealing private medical information.";
        } else if (optionText.includes('how often should I update')) {
          response = "For most effective tracking, log medication administration daily, and update academic observations at least weekly. Comprehensive analytics are most valuable when reviewing longer periods, so run a full analysis monthly to identify meaningful patterns and track changes over time.";
        }
        
        // Update the help message
        document.querySelector('.help-message').innerHTML = `<p>${response}</p>`;
        
        // Update the help options
        const helpOptions = document.querySelector('.help-options');
        helpOptions.innerHTML = `
          <div class="help-option dyslexia-friendly-text">What happens if we miss a dose?</div>
          <div class="help-option dyslexia-friendly-text">How do I interpret the analytics?</div>
          <div class="help-option dyslexia-friendly-text">Where can I find medication information?</div>
          <div class="help-option dyslexia-friendly-text">I have a different question</div>
        `;
      });
    });
    
    // Correlation chart tooltip functionality
    const correlationPoints = document.querySelectorAll('.correlation-point');
    const pointTooltip = document.getElementById('point-tooltip');
    
    correlationPoints.forEach(point => {
      point.addEventListener('mouseover', (e) => {
        const tooltipText = point.getAttribute('data-tooltip');
        pointTooltip.textContent = tooltipText;
        pointTooltip.style.left = `${e.pageX + 10}px`;
        pointTooltip.style.top = `${e.pageY + 10}px`;
        pointTooltip.style.opacity = 1;
      });
      
      point.addEventListener('mouseout', () => {
        pointTooltip.style.opacity = 0;
      });
    });
    
    // Medication entry modal functionality
    const addMedicationBtn = document.getElementById('add-medication-btn');
    const medicationEntryModal = document.getElementById('medication-entry-modal');
    const modalOverlay = document.getElementById('modal-overlay');
    const closeModalBtn = document.getElementById('close-modal');
    const saveMedicationBtn = document.getElementById('save-medication-btn');
    
    addMedicationBtn.addEventListener('click', () => {
      medicationEntryModal.style.display = 'block';
      modalOverlay.style.display = 'block';
      
      // Set default date to today
      const today = new Date().toISOString().split('T')[0];
      document.getElementById('medication-date').value = today;
      
      // Set default time
      document.getElementById('medication-time').value = '07:30';
    });
    
    closeModalBtn.addEventListener('click', () => {
      medicationEntryModal.style.display = 'none';
      modalOverlay.style.display = 'none';
    });
    
    saveMedicationBtn.addEventListener('click', () => {
      const medicationName = document.getElementById('medication-name').value;
      const medicationDosage = document.getElementById('medication-dosage').value;
      const medicationTime = document.getElementById('medication-time').value;
      const medicationDate = document.getElementById('medication-date').value;
      
      if (!medicationName || !medicationDosage || !medicationTime || !medicationDate) {
        alert('Please fill in all required fields.');
        return;
      }
      
      // In a real implementation, this would save the medication entry to the database
      // For demo purposes, we'll just show an alert
      alert(`Medication entry saved successfully!
Medication: ${medicationName} ${medicationDosage}
Date: ${medicationDate}
Time: ${medicationTime}`);
      
      // Close the modal
      medicationEntryModal.style.display = 'none';
      modalOverlay.style.display = 'none';
      
      // Clear the form
      document.getElementById('medication-name').value = '';
      document.getElementById('medication-dosage').value = '';
      document.getElementById('medication-notes').value = '';
    });
    
    // Custom date range functionality
    document.getElementById('log-date-range').addEventListener('change', (e) => {
      const value = e.target.value;
      const customDateRange = document.getElementById('custom-date-range');
      
      if (value === 'custom') {
        customDateRange.style.display = 'block';
      } else {
        customDateRange.style.display = 'none';
      }
    });
    
    // View medication info button functionality
    document.getElementById('view-medication-info-btn').addEventListener('click', () => {
      const medicationSelect = document.getElementById('medication-select');
      const selectedMedication = medicationSelect.value;
      
      if (!selectedMedication) {
        alert('Please select a medication to view information.');
        return;
      }
      
      // In a real implementation, this would load the medication information from the database
      // For demo purposes, we'll just scroll to the medication detail panel
      document.getElementById('medication-detail-panel').scrollIntoView({ behavior: 'smooth' });
    });
    
    // Generate AI Analytics button functionality
    document.getElementById('generate-analytics-btn').addEventListener('click', () => {
      const studentSelect = document.getElementById('analytics-student-select');
      const periodSelect = document.getElementById('analytics-period');
      
      if (!studentSelect.value) {
        alert('Please select a student.');
        return;
      }
      
      // In a real implementation, this would generate analytics using the Perplexity API
      // For demo purposes, we'll just scroll to the analytics results
      document.getElementById('analytics-results').scrollIntoView({ behavior: 'smooth' });
    });
    
    // Analyze Performance Correlation button functionality
    document.getElementById('analyze-performance-btn').addEventListener('click', () => {
      const studentSelect = document.getElementById('performance-student-select');
      
      if (!studentSelect.value) {
        alert('Please select a student.');
        return;
      }
      
      // In a real implementation, this would analyze performance data
      // For demo purposes, we'll just scroll to the performance results
      document.getElementById('performance-results').scrollIntoView({ behavior: 'smooth' });
    });
    
    // View Medication Log button functionality
    document.getElementById('view-log-btn').addEventListener('click', () => {
      const studentSelect = document.getElementById('log-student-select');
      
      if (!studentSelect.value) {
        alert('Please select a student.');
        return;
      }
      
      // Update the student name in the log heading
      if (studentSelect.selectedIndex > 0) {
        const studentName = studentSelect.options[studentSelect.selectedIndex].text.split(' (')[0];
        document.getElementById('log-student-name').textContent = studentName;
      }
      
      // In a real implementation, this would load the medication log from the database
      // For demo purposes, we'll just scroll to the medication log
      document.querySelector('.medication-log').scrollIntoView({ behavior: 'smooth' });
    });
  </script>
</body>
</html>