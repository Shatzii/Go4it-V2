<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Go4It Package Creator</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background-color: #0e1628;
            color: #ffffff;
            line-height: 1.5;
            padding: 20px;
        }
        
        .container {
            max-width: 800px;
            margin: 20px auto;
            background: rgba(30, 30, 30, 0.6);
            border-radius: 12px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            padding: 30px;
        }
        
        .header {
            display: flex;
            align-items: center;
            margin-bottom: 30px;
        }
        
        .logo {
            width: 60px;
            height: 60px;
            background: #0078d7;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 24px;
            margin-right: 20px;
        }
        
        h1 {
            font-size: 24px;
            font-weight: 600;
            color: #0078d7;
            margin: 0 0 5px 0;
        }
        
        .subtitle {
            font-size: 14px;
            color: rgba(255, 255, 255, 0.7);
        }
        
        .step {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .step-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .step-number {
            width: 32px;
            height: 32px;
            background: rgba(0, 120, 215, 0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            margin-right: 14px;
        }
        
        .step-title {
            font-size: 18px;
            font-weight: 600;
        }
        
        .step-content {
            margin-left: 46px;
        }
        
        .checkbox-list {
            margin-bottom: 20px;
        }
        
        .checkbox-item {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .checkbox-item input[type="checkbox"] {
            width: 18px;
            height: 18px;
            margin-right: 10px;
            accent-color: #0078d7;
        }
        
        .config-option {
            margin-bottom: 15px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }
        
        input[type="text"], 
        input[type="password"],
        select {
            width: 100%;
            padding: 10px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 6px;
            color: white;
            font-size: 14px;
        }
        
        input:focus, select:focus {
            outline: none;
            border-color: #0078d7;
        }
        
        .status {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            padding: 15px;
            margin-top: 25px;
            font-family: monospace;
            height: 200px;
            overflow-y: auto;
            white-space: pre-wrap;
        }
        
        .status-line {
            margin-bottom: 5px;
            line-height: 1.4;
        }
        
        .timestamp {
            color: rgba(255, 255, 255, 0.4);
            margin-right: 8px;
        }
        
        .success {
            color: #00cc66;
        }
        
        .error {
            color: #ff4444;
        }
        
        .warning {
            color: #f9a825;
        }
        
        .actions {
            margin-top: 30px;
            display: flex;
            justify-content: flex-end;
            gap: 15px;
        }
        
        .button {
            background: #0078d7;
            border: none;
            color: white;
            padding: 12px 20px;
            border-radius: 6px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 16px;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        
        .button:hover {
            background: #0086f0;
            transform: translateY(-2px);
        }
        
        .button-secondary {
            background: rgba(255, 255, 255, 0.1);
        }
        
        .button-secondary:hover {
            background: rgba(255, 255, 255, 0.2);
        }
        
        .button-icon {
            width: 20px;
            height: 20px;
        }
        
        .progress-container {
            margin-top: 25px;
        }
        
        .progress-bar {
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 10px;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #0078d7, #00a2ff);
            width: 0%;
            transition: width 0.3s ease;
        }
        
        .progress-text {
            font-size: 14px;
            color: rgba(255, 255, 255, 0.7);
            display: flex;
            justify-content: space-between;
        }
        
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        .spinner {
            animation: spin 1.5s linear infinite;
        }
        
        .hidden {
            display: none;
        }
        
        .download-link {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: #00cc66;
            color: white;
            padding: 12px 20px;
            border-radius: 6px;
            font-weight: 500;
            text-decoration: none;
            transition: all 0.2s;
            margin-top: 25px;
        }
        
        .download-link:hover {
            background: #00dd77;
            transform: translateY(-2px);
        }
        
        .instructions {
            background: rgba(0, 120, 215, 0.1);
            border-radius: 8px;
            padding: 15px;
            margin-top: 25px;
            border-left: 3px solid #0078d7;
        }
        
        .instructions h3 {
            font-size: 16px;
            margin-bottom: 10px;
        }
        
        .instructions ol {
            margin-left: 20px;
        }
        
        .instructions li {
            margin-bottom: 8px;
        }
        
        .instructions code {
            background: rgba(255, 255, 255, 0.1);
            padding: 2px 5px;
            border-radius: 4px;
            font-family: monospace;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="logo">G4</div>
            <div>
                <h1>Go4It Package Creator</h1>
                <div class="subtitle">Create deployment packages for direct upload to your file browser</div>
            </div>
        </div>
        
        <div class="step">
            <div class="step-header">
                <div class="step-number">1</div>
                <div class="step-title">Select what to include</div>
            </div>
            <div class="step-content">
                <div class="checkbox-list">
                    <div class="checkbox-item">
                        <input type="checkbox" id="include-client" checked>
                        <label for="include-client">Go4It Client Files</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="include-server" checked>
                        <label for="include-server">Go4It Server Files</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="include-monaco" checked>
                        <label for="include-monaco">Monaco Editor Integration</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="include-starcoder" checked>
                        <label for="include-starcoder">StarCoder AI Integration</label>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="step">
            <div class="step-header">
                <div class="step-number">2</div>
                <div class="step-title">Configure deployment settings</div>
            </div>
            <div class="step-content">
                <div class="config-option">
                    <label for="server-url">Server URL or IP Address</label>
                    <input type="text" id="server-url" value="188.245.209.124" placeholder="e.g., 188.245.209.124 or go4itsports.org">
                </div>
                
                <div class="config-option">
                    <label for="client-path">Client Files Deployment Path</label>
                    <input type="text" id="client-path" value="/var/www/go4itsports/client" placeholder="e.g., /var/www/go4itsports/client">
                </div>
                
                <div class="config-option">
                    <label for="server-path">Server Files Deployment Path</label>
                    <input type="text" id="server-path" value="/var/www/go4itsports/server" placeholder="e.g., /var/www/go4itsports/server">
                </div>
                
                <div class="config-option">
                    <label for="monaco-path">Monaco Editor Path</label>
                    <input type="text" id="monaco-path" value="/var/www/html/pharaoh" placeholder="e.g., /var/www/html/pharaoh">
                </div>
            </div>
        </div>
        
        <div class="step">
            <div class="step-header">
                <div class="step-number">3</div>
                <div class="step-title">Create deployment package</div>
            </div>
            <div class="step-content">
                <p>Click the button below to create a deployment package with your selected components and configuration.</p>
                
                <div class="progress-container hidden" id="progress-container">
                    <div class="progress-bar">
                        <div class="progress-fill" id="progress-fill"></div>
                    </div>
                    <div class="progress-text">
                        <span id="progress-status">Preparing files...</span>
                        <span id="progress-percent">0%</span>
                    </div>
                </div>
                
                <div class="status" id="status"></div>
                
                <div class="actions">
                    <button id="reset-btn" class="button button-secondary">
                        <svg class="button-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M23 4v6h-6"></path>
                            <path d="M1 20v-6h6"></path>
                            <path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path>
                        </svg>
                        Reset
                    </button>
                    <button id="create-btn" class="button">
                        <svg class="button-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polyline points="22 12 18 8 14 12"></polyline>
                            <path d="M18 8v12"></path>
                            <path d="M6 12h12"></path>
                            <path d="M5 5h14a2 2 0 0 1 2 2v3.34l-3.01-3.01a1 1 0 0 0-1.41 0L9 15H5a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2z"></path>
                        </svg>
                        Create Package
                    </button>
                </div>
                
                <a href="#" id="download-link" class="download-link hidden">
                    <svg class="button-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                        <polyline points="7 10 12 15 17 10"></polyline>
                        <line x1="12" y1="15" x2="12" y2="3"></line>
                    </svg>
                    Download Go4It Deployment Package
                </a>
            </div>
        </div>
        
        <div class="instructions hidden" id="instructions">
            <h3>How to use this package with your file browser</h3>
            <ol>
                <li>Download the package using the green button above</li>
                <li>Log into your file browser at <code>http://188.245.209.124/files</code> (or your custom URL)</li>
                <li>Navigate to the root directory where you want to upload the package</li>
                <li>Upload the <code>go4it_deployment_package.zip</code> file</li>
                <li>Extract the package by selecting it and clicking "Extract" in your file browser</li>
                <li>Navigate into the extracted directory</li>
                <li>Make the deployment script executable: <code>chmod +x deploy_all.sh</code></li>
                <li>Run the deployment script: <code>./deploy_all.sh</code></li>
            </ol>
        </div>
    </div>
    
    <script>
        // DOM Elements
        const includeClient = document.getElementById('include-client');
        const includeServer = document.getElementById('include-server');
        const includeMonaco = document.getElementById('include-monaco');
        const includeStarcoder = document.getElementById('include-starcoder');
        
        const serverUrlInput = document.getElementById('server-url');
        const clientPathInput = document.getElementById('client-path');
        const serverPathInput = document.getElementById('server-path');
        const monacoPathInput = document.getElementById('monaco-path');
        
        const progressContainer = document.getElementById('progress-container');
        const progressFill = document.getElementById('progress-fill');
        const progressStatus = document.getElementById('progress-status');
        const progressPercent = document.getElementById('progress-percent');
        
        const statusContainer = document.getElementById('status');
        
        const resetBtn = document.getElementById('reset-btn');
        const createBtn = document.getElementById('create-btn');
        
        const downloadLink = document.getElementById('download-link');
        const instructions = document.getElementById('instructions');
        
        // Event Listeners
        resetBtn.addEventListener('click', resetForm);
        createBtn.addEventListener('click', createPackage);
        
        // Status Logs
        function addLog(message, type = '') {
            const timestamp = new Date().toLocaleTimeString();
            
            const logLine = document.createElement('div');
            logLine.className = 'status-line';
            
            const timestampSpan = document.createElement('span');
            timestampSpan.className = 'timestamp';
            timestampSpan.textContent = `[${timestamp}]`;
            
            const messageSpan = document.createElement('span');
            if (type) {
                messageSpan.className = type;
            }
            messageSpan.textContent = ` ${message}`;
            
            logLine.appendChild(timestampSpan);
            logLine.appendChild(messageSpan);
            
            statusContainer.appendChild(logLine);
            
            // Scroll to bottom
            statusContainer.scrollTop = statusContainer.scrollHeight;
        }
        
        // Reset Form
        function resetForm() {
            // Reset checkboxes
            includeClient.checked = true;
            includeServer.checked = true;
            includeMonaco.checked = true;
            includeStarcoder.checked = true;
            
            // Reset inputs
            serverUrlInput.value = '188.245.209.124';
            clientPathInput.value = '/var/www/go4itsports/client';
            serverPathInput.value = '/var/www/go4itsports/server';
            monacoPathInput.value = '/var/www/html/pharaoh';
            
            // Hide elements
            progressContainer.classList.add('hidden');
            downloadLink.classList.add('hidden');
            instructions.classList.add('hidden');
            
            // Clear logs
            statusContainer.innerHTML = '';
            
            // Reset progress
            progressFill.style.width = '0%';
            progressStatus.textContent = 'Preparing files...';
            progressPercent.textContent = '0%';
            
            // Enable create button
            createBtn.disabled = false;
            
            addLog('Form reset successfully', 'success');
        }
        
        // Create Package
        function createPackage() {
            // Check if at least one component is selected
            if (!includeClient.checked && !includeServer.checked && !includeMonaco.checked && !includeStarcoder.checked) {
                addLog('Error: Please select at least one component to include', 'error');
                return;
            }
            
            // Check if server URL is provided
            if (!serverUrlInput.value) {
                addLog('Error: Server URL is required', 'error');
                return;
            }
            
            // Show progress
            progressContainer.classList.remove('hidden');
            
            // Disable create button
            createBtn.disabled = true;
            
            // Add initial log
            addLog('Starting package creation...', 'info');
            
            // Simulate creation process
            let progress = 0;
            let isComplete = false;
            
            const interval = setInterval(() => {
                // Simulate progress steps
                if (progress < 20) {
                    // Preparing
                    progressStatus.textContent = 'Preparing files...';
                    progress += 2;
                } else if (progress < 40) {
                    // Collecting client files
                    if (includeClient.checked) {
                        progressStatus.textContent = 'Collecting client files...';
                        if (progress === 20) {
                            addLog('Collecting client files...', 'info');
                        }
                    }
                    progress += 2;
                } else if (progress < 60) {
                    // Collecting server files
                    if (includeServer.checked) {
                        progressStatus.textContent = 'Collecting server files...';
                        if (progress === 40) {
                            addLog('Collecting server files...', 'info');
                        }
                    }
                    progress += 2;
                } else if (progress < 80) {
                    // Collecting Monaco & StarCoder
                    if (includeMonaco.checked || includeStarcoder.checked) {
                        progressStatus.textContent = 'Adding Monaco & StarCoder integration...';
                        if (progress === 60) {
                            addLog('Adding Monaco & StarCoder integration...', 'info');
                        }
                    }
                    progress += 2;
                } else if (progress < 100) {
                    // Creating final package
                    progressStatus.textContent = 'Creating deployment package...';
                    if (progress === 80) {
                        addLog('Creating deployment package...', 'info');
                    }
                    progress += 2;
                } else {
                    // Complete
                    progress = 100;
                    progressStatus.textContent = 'Package created successfully!';
                    clearInterval(interval);
                    
                    if (!isComplete) {
                        isComplete = true;
                        packageComplete();
                    }
                }
                
                // Update progress
                progressFill.style.width = `${progress}%`;
                progressPercent.textContent = `${progress}%`;
            }, 100);
        }
        
        // Complete Package Creation
        function packageComplete() {
            addLog('Deployment package created successfully!', 'success');
            
            // Components included
            const components = [];
            if (includeClient.checked) components.push('Go4It Client');
            if (includeServer.checked) components.push('Go4It Server');
            if (includeMonaco.checked) components.push('Monaco Editor Integration');
            if (includeStarcoder.checked) components.push('StarCoder AI Integration');
            
            addLog(`Package includes: ${components.join(', ')}`, 'info');
            
            // Create a fake link for demonstration
            const timestamp = new Date().toISOString().replace(/:/g, '-').slice(0, 19);
            const filename = `go4it_deployment_package_${timestamp}.zip`;
            
            // If this were a real app, we'd generate the zip here
            // For now, create a fake blob for demonstration
            const blob = new Blob(['This is a placeholder for the actual zip file'], { type: 'application/zip' });
            const url = URL.createObjectURL(blob);
            
            downloadLink.href = url;
            downloadLink.download = filename;
            downloadLink.classList.remove('hidden');
            
            // Show instructions
            instructions.classList.remove('hidden');
            
            // Enable create button
            createBtn.disabled = false;
            
            addLog(`Package is ready for download: ${filename}`, 'success');
        }
        
        // Initialize
        function init() {
            addLog('Package Creator initialized', 'info');
            addLog('Ready to create Go4It deployment packages', 'info');
        }
        
        // Call init on page load
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>