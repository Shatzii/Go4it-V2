<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Go4It Launcher (G4T_LHR)</title>
    <style>
        :root {
            --primary: #4287f5;
            --secondary: #60a5fa;
            --success: #4ade80;
            --warning: #fbbf24;
            --error: #f87171;
            --bg-dark: #0e1628;
            --bg-card: rgba(20, 30, 50, 0.7);
            --text: #ffffff;
            --text-muted: rgba(255, 255, 255, 0.7);
            --border: rgba(255, 255, 255, 0.1);
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background-color: var(--bg-dark);
            color: var(--text);
            margin: 0;
            padding: 20px;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: var(--bg-card);
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
        }
        
        h1, h2, h3 {
            color: var(--primary);
        }
        
        h1 {
            font-size: 28px;
            margin-top: 0;
            margin-bottom: 10px;
        }
        
        .subtitle {
            color: var(--text-muted);
            margin-bottom: 30px;
        }
        
        .logo {
            font-size: 48px;
            font-weight: bold;
            color: var(--primary);
            text-align: center;
            margin-bottom: 20px;
        }
        
        .card {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .card-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 15px;
            color: var(--primary);
            display: flex;
            align-items: center;
        }
        
        .card-title .icon {
            margin-right: 10px;
            font-size: 20px;
        }
        
        .status {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            padding: 15px;
            height: 200px;
            overflow-y: auto;
            font-family: monospace;
            margin-bottom: 20px;
            word-wrap: break-word;
        }
        
        .log-line {
            margin-bottom: 5px;
        }
        
        .timestamp {
            color: rgba(255, 255, 255, 0.4);
            margin-right: 8px;
        }
        
        .success {
            color: var(--success);
        }
        
        .error {
            color: var(--error);
        }
        
        .warning {
            color: var(--warning);
        }
        
        .info {
            color: var(--primary);
        }
        
        .button {
            background: var(--primary);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 6px;
            font-size: 16px;
            cursor: pointer;
            margin-right: 10px;
            transition: all 0.2s;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        
        .button:hover {
            background: #2563eb;
            transform: translateY(-2px);
        }
        
        .button:disabled {
            background: #3b3f5c;
            cursor: not-allowed;
            transform: none;
        }
        
        .button-secondary {
            background: rgba(255, 255, 255, 0.1);
        }
        
        .button-secondary:hover {
            background: rgba(255, 255, 255, 0.2);
        }
        
        .button-success {
            background: var(--success);
        }
        
        .button-success:hover {
            background: #22c55e;
        }
        
        .button-warning {
            background: var(--warning);
        }
        
        .button-warning:hover {
            background: #f59e0b;
        }
        
        .button-error {
            background: var(--error);
        }
        
        .button-error:hover {
            background: #ef4444;
        }
        
        .progress-bar {
            height: 10px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
            margin-bottom: 10px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            width: 0%;
            transition: width 0.3s ease;
        }
        
        .actions {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 20px;
        }
        
        .config-row {
            margin-bottom: 15px;
        }
        
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
        }
        
        input[type="text"], input[type="file"], select {
            width: 100%;
            padding: 10px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 4px;
            color: white;
        }
        
        input[type="text"]:focus, select:focus {
            outline: none;
            border-color: var(--primary);
        }
        
        .checkbox-item {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .checkbox-item input[type="checkbox"] {
            margin-right: 10px;
        }
        
        .file-section {
            margin-top: 20px;
            border-top: 1px solid var(--border);
            padding-top: 20px;
        }
        
        .file-drop-area {
            border: 2px dashed rgba(255, 255, 255, 0.3);
            border-radius: 8px;
            padding: 20px;
            text-align: center;
            margin-bottom: 20px;
            transition: all 0.3s;
        }
        
        .file-drop-area.active {
            border-color: var(--primary);
            background: rgba(66, 135, 245, 0.1);
        }
        
        .file-list {
            max-height: 200px;
            overflow-y: auto;
            margin-bottom: 20px;
        }
        
        .file-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 12px;
            border-radius: 4px;
            margin-bottom: 5px;
            background: rgba(255, 255, 255, 0.05);
        }
        
        .file-item:hover {
            background: rgba(255, 255, 255, 0.1);
        }
        
        .file-name {
            flex: 1;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        .file-size {
            margin-left: 10px;
            color: rgba(255, 255, 255, 0.5);
            font-size: 14px;
        }
        
        .file-remove {
            cursor: pointer;
            color: var(--error);
            margin-left: 10px;
            font-size: 18px;
        }
        
        .file-progress {
            height: 4px;
            width: 100%;
            background: rgba(255, 255, 255, 0.1);
            margin-top: 5px;
            border-radius: 2px;
            overflow: hidden;
        }
        
        .file-progress-fill {
            height: 100%;
            background: var(--success);
            width: 0%;
            transition: width 0.3s ease;
        }
        
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        .spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: #fff;
            animation: spin 1s linear infinite;
        }
        
        .step-counter {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: rgba(66, 135, 245, 0.2);
            margin-right: 10px;
            font-size: 14px;
            font-weight: bold;
        }
        
        .deployment-steps {
            margin-top: 20px;
        }
        
        .deployment-step {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
            padding: 10px;
            border-radius: 6px;
            transition: all 0.3s;
        }
        
        .deployment-step.active {
            background: rgba(66, 135, 245, 0.1);
        }
        
        .deployment-step.completed {
            background: rgba(74, 222, 128, 0.1);
        }
        
        .step-status {
            margin-left: auto;
            font-size: 14px;
        }
        
        .step-pending {
            color: rgba(255, 255, 255, 0.5);
        }
        
        .step-success {
            color: var(--success);
        }
        
        .step-error {
            color: var(--error);
        }
        
        .tab-container {
            margin-bottom: 20px;
        }
        
        .tab-buttons {
            display: flex;
            margin-bottom: 15px;
            border-bottom: 1px solid var(--border);
            flex-wrap: wrap;
        }
        
        .tab-button {
            padding: 10px 20px;
            background: transparent;
            border: none;
            color: var(--text-muted);
            cursor: pointer;
            transition: all 0.3s;
            border-bottom: 2px solid transparent;
            font-size: 16px;
        }
        
        .tab-button.active {
            color: var(--primary);
            border-bottom-color: var(--primary);
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .flex-row {
            display: flex;
            gap: 15px;
        }
        
        .flex-column {
            flex: 1;
        }
        
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 20px;
        }
        
        .header-left {
            display: flex;
            align-items: center;
        }
        
        .header-right {
            display: flex;
            gap: 10px;
        }
        
        .status-indicator {
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 14px;
            background: rgba(0, 0, 0, 0.2);
            padding: 5px 10px;
            border-radius: 20px;
        }
        
        .status-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background-color: var(--success);
        }
        
        .status-dot.connected {
            background-color: var(--success);
        }
        
        .status-dot.disconnected {
            background-color: var(--error);
        }
        
        .status-dot.pending {
            background-color: var(--warning);
        }
        
        .quick-actions {
            background: rgba(0, 0, 0, 0.2);
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        
        .quick-actions h3 {
            margin-top: 0;
            margin-bottom: 15px;
        }
        
        .integration-status {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .integration-item {
            background: rgba(0, 0, 0, 0.2);
            padding: 15px;
            border-radius: 8px;
            display: flex;
            flex-direction: column;
        }
        
        .integration-title {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
            font-weight: bold;
        }
        
        .integration-icon {
            margin-right: 10px;
            font-size: 20px;
        }
        
        .monaco-editor {
            height: 400px;
            border-radius: 8px;
            overflow: hidden;
            margin-bottom: 20px;
        }
        
        @media (max-width: 768px) {
            .flex-row {
                flex-direction: column;
            }
            
            .header {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .header-right {
                width: 100%;
                justify-content: space-between;
            }
            
            .status-indicator {
                flex: 1;
                justify-content: center;
            }
            
            .integration-status {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="header-left">
                <div class="logo">G4</div>
                <div>
                    <h1>Go4It Sports Launcher</h1>
                    <div class="subtitle">Deploy, Manage, and Integrate with StarCoder AI</div>
                </div>
            </div>
            <div class="header-right">
                <div class="status-indicator">
                    <div class="status-dot connected" id="server-status-dot"></div>
                    <span id="server-status-text">Server Connected</span>
                </div>
                <div class="status-indicator">
                    <div class="status-dot connected" id="starcoder-status-dot"></div>
                    <span id="starcoder-status-text">StarCoder Ready</span>
                </div>
            </div>
        </div>
        
        <div class="tab-container">
            <div class="tab-buttons">
                <button class="tab-button active" data-tab="deploy">Deploy</button>
                <button class="tab-button" data-tab="upload">Upload Files</button>
                <button class="tab-button" data-tab="rollback">Rollback</button>
                <button class="tab-button" data-tab="editor">Monaco Editor</button>
                <button class="tab-button" data-tab="ai">StarCoder AI</button>
            </div>
            
            <!-- Deploy Tab -->
            <div class="tab-content active" id="deploy-tab">
                <div class="quick-actions">
                    <h3>Quick Actions</h3>
                    <div class="actions">
                        <button id="deploy-package-btn" class="button">
                            <span class="icon">üì¶</span> Deploy Latest Package
                        </button>
                        <button id="verify-structure-btn" class="button button-secondary">
                            <span class="icon">üîç</span> Verify Project Structure
                        </button>
                        <button id="create-backup-btn" class="button button-secondary">
                            <span class="icon">üíæ</span> Create Backup
                        </button>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-title">
                        <span class="icon">üöÄ</span> Deployment Configuration
                    </div>
                    <div class="flex-row">
                        <div class="flex-column">
                            <div class="config-row">
                                <label for="package-path">Package Path</label>
                                <input type="text" id="package-path" value="/var/www/go4itsports/uploads/temp/Go4It_Package.zip" placeholder="e.g., /path/to/package.zip">
                            </div>
                            <div class="config-row">
                                <label for="deploy-script">Deployment Script</label>
                                <input type="text" id="deploy-script" value="/var/www/go4itsports/deploy.sh" placeholder="e.g., /path/to/deploy.sh">
                            </div>
                        </div>
                        <div class="flex-column">
                            <div class="config-row">
                                <label for="client-path">Client Path</label>
                                <input type="text" id="client-path" value="/var/www/go4itsports/client" placeholder="e.g., /var/www/go4itsports/client">
                            </div>
                            <div class="config-row">
                                <label for="server-path">Server Path</label>
                                <input type="text" id="server-path" value="/var/www/go4itsports/server" placeholder="e.g., /var/www/go4itsports/server">
                            </div>
                            <div class="config-row">
                                <label for="shared-path">Shared Path</label>
                                <input type="text" id="shared-path" value="/var/www/go4itsports/shared" placeholder="e.g., /var/www/go4itsports/shared">
                            </div>
                        </div>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="auto-backup" checked>
                        <label for="auto-backup">Create backup before deployment</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="auto-verify" checked>
                        <label for="auto-verify">Verify structure after deployment</label>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-title">
                        <span class="icon">üìä</span> Deployment Process
                    </div>
                    <div class="deployment-steps" id="deployment-steps">
                        <!-- Steps will be added here by JavaScript -->
                    </div>
                    <div class="status" id="deploy-status"></div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="deploy-progress"></div>
                    </div>
                    <div class="actions">
                        <button id="test-connection-btn" class="button button-secondary">
                            <span class="icon">üîå</span> Test Connection
                        </button>
                        <button id="start-deploy-btn" class="button">
                            <span class="icon">üöÄ</span> Start Deployment
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Upload Files Tab -->
            <div class="tab-content" id="upload-tab">
                <div class="card">
                    <div class="card-title">
                        <span class="icon">üì§</span> Upload Files to Server
                    </div>
                    <div class="file-drop-area" id="drop-area">
                        <p>Drag & drop files here or click to select files</p>
                        <input type="file" id="file-input" multiple style="display: none;">
                    </div>
                    <div class="file-list" id="file-list">
                        <!-- Files will be added here -->
                    </div>
                    <div class="config-row">
                        <label for="upload-path">Upload Path</label>
                        <input type="text" id="upload-path" value="/var/www/go4itsports/uploads/temp" placeholder="e.g., /var/www/go4itsports/uploads/temp">
                    </div>
                    <div class="actions">
                        <button id="create-zip-btn" class="button button-secondary">
                            <span class="icon">üì¶</span> Create Project ZIP
                        </button>
                        <button id="upload-btn" class="button" disabled>
                            <span class="icon">üì§</span> Upload Selected Files
                        </button>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-title">
                        <span class="icon">üì•</span> Upload Status
                    </div>
                    <div class="status" id="upload-status"></div>
                </div>
            </div>
            
            <!-- Rollback Tab -->
            <div class="tab-content" id="rollback-tab">
                <div class="card">
                    <div class="card-title">
                        <span class="icon">‚èÆÔ∏è</span> Rollback to Previous Version
                    </div>
                    <div class="config-row">
                        <label for="backup-select">Select Backup</label>
                        <select id="backup-select">
                            <option value="latest">Latest Backup (Apr 29, 2025 - 10:45 PM)</option>
                            <option value="backup1">Apr 28, 2025 - 3:22 PM</option>
                            <option value="backup2">Apr 27, 2025 - 9:10 AM</option>
                        </select>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="backup-current" checked>
                        <label for="backup-current">Create backup of current state before rollback</label>
                    </div>
                    <div class="actions">
                        <button id="view-backup-btn" class="button button-secondary">
                            <span class="icon">üëÅÔ∏è</span> View Backup Contents
                        </button>
                        <button id="rollback-btn" class="button button-warning">
                            <span class="icon">‚èÆÔ∏è</span> Perform Rollback
                        </button>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-title">
                        <span class="icon">üìä</span> Rollback Status
                    </div>
                    <div class="status" id="rollback-status"></div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="rollback-progress"></div>
                    </div>
                </div>
            </div>
            
            <!-- Monaco Editor Tab -->
            <div class="tab-content" id="editor-tab">
                <div class="quick-actions">
                    <h3>Monaco Editor Integration</h3>
                    <div class="actions">
                        <a href="http://188.245.209.124/pharaoh/" target="_blank" class="button">
                            <span class="icon">üìù</span> Open Monaco Editor
                        </a>
                        <button id="check-monaco-btn" class="button button-secondary">
                            <span class="icon">üîç</span> Check Monaco Configuration
                        </button>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-title">
                        <span class="icon">‚å®Ô∏è</span> Monaco Editor Features
                    </div>
                    <ul>
                        <li><strong>Real-time file editing</strong> from /go4itsports/ directory</li>
                        <li><strong>StarCoder AI integration</strong> for code completion and assistance</li>
                        <li><strong>Keyboard Shortcuts:</strong>
                            <ul>
                                <li><code>Ctrl+Shift+F</code> - Auto-fix code with AI</li>
                                <li><code>Ctrl+Shift+Q</code> - Ask code questions</li>
                                <li><code>Ctrl+Shift+A</code> - Run AI audit on folder/file</li>
                            </ul>
                        </li>
                    </ul>
                </div>
                
                <div class="card">
                    <div class="card-title">
                        <span class="icon">üîó</span> Integration Status
                    </div>
                    <div class="integration-status">
                        <div class="integration-item">
                            <div class="integration-title">
                                <span class="integration-icon">üìù</span>
                                Monaco Editor
                            </div>
                            <div class="status-indicator">
                                <div class="status-dot connected" id="monaco-status-dot"></div>
                                <span id="monaco-status-text">Connected</span>
                            </div>
                        </div>
                        <div class="integration-item">
                            <div class="integration-title">
                                <span class="integration-icon">ü§ñ</span>
                                StarCoder API
                            </div>
                            <div class="status-indicator">
                                <div class="status-dot connected" id="starcoder-api-status-dot"></div>
                                <span id="starcoder-api-status-text">Connected</span>
                            </div>
                        </div>
                        <div class="integration-item">
                            <div class="integration-title">
                                <span class="integration-icon">üîå</span>
                                File System
                            </div>
                            <div class="status-indicator">
                                <div class="status-dot connected" id="filesystem-status-dot"></div>
                                <span id="filesystem-status-text">Connected</span>
                            </div>
                        </div>
                        <div class="integration-item">
                            <div class="integration-title">
                                <span class="integration-icon">üíæ</span>
                                Auto-Save
                            </div>
                            <div class="status-indicator">
                                <div class="status-dot connected" id="autosave-status-dot"></div>
                                <span id="autosave-status-text">Enabled</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- StarCoder AI Tab -->
            <div class="tab-content" id="ai-tab">
                <div class="quick-actions">
                    <h3>StarCoder AI Services</h3>
                    <div class="actions">
                        <button id="verify-structure-ai-btn" class="button">
                            <span class="icon">üîç</span> AI Structure Verification
                        </button>
                        <button id="code-review-btn" class="button">
                            <span class="icon">üëÅÔ∏è</span> Run Code Review
                        </button>
                        <button id="generate-tests-btn" class="button">
                            <span class="icon">üß™</span> Generate Tests
                        </button>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-title">
                        <span class="icon">üí¨</span> StarCoder AI Chat
                    </div>
                    <div class="config-row">
                        <label for="ai-prompt">Enter your coding question</label>
                        <input type="text" id="ai-prompt" placeholder="e.g., How do I implement authentication in Express.js?">
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="include-context" checked>
                        <label for="include-context">Include project context in the prompt</label>
                    </div>
                    <div class="actions">
                        <button id="send-prompt-btn" class="button">
                            <span class="icon">üì§</span> Send to StarCoder
                        </button>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-title">
                        <span class="icon">ü§ñ</span> AI Response
                    </div>
                    <div class="status" id="ai-response"></div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // DOM Elements
        const deployStatusContainer = document.getElementById('deploy-status');
        const uploadStatusContainer = document.getElementById('upload-status');
        const rollbackStatusContainer = document.getElementById('rollback-status');
        const aiResponseContainer = document.getElementById('ai-response');
        
        const deployProgressFill = document.getElementById('deploy-progress');
        const rollbackProgressFill = document.getElementById('rollback-progress');
        
        const testConnectionBtn = document.getElementById('test-connection-btn');
        const startDeployBtn = document.getElementById('start-deploy-btn');
        const uploadBtn = document.getElementById('upload-btn');
        const rollbackBtn = document.getElementById('rollback-btn');
        const viewBackupBtn = document.getElementById('view-backup-btn');
        const checkMonacoBtn = document.getElementById('check-monaco-btn');
        const deployPackageBtn = document.getElementById('deploy-package-btn');
        const verifyStructureBtn = document.getElementById('verify-structure-btn');
        const createBackupBtn = document.getElementById('create-backup-btn');
        const createZipBtn = document.getElementById('create-zip-btn');
        const sendPromptBtn = document.getElementById('send-prompt-btn');
        const verifyStructureAiBtn = document.getElementById('verify-structure-ai-btn');
        const codeReviewBtn = document.getElementById('code-review-btn');
        const generateTestsBtn = document.getElementById('generate-tests-btn');
        
        const deploymentStepsContainer = document.getElementById('deployment-steps');
        
        // Status indicators
        const serverStatusDot = document.getElementById('server-status-dot');
        const serverStatusText = document.getElementById('server-status-text');
        const starcoderStatusDot = document.getElementById('starcoder-status-dot');
        const starcoderStatusText = document.getElementById('starcoder-status-text');
        const monacoStatusDot = document.getElementById('monaco-status-dot');
        const monacoStatusText = document.getElementById('monaco-status-text');
        const starcoderApiStatusDot = document.getElementById('starcoder-api-status-dot');
        const starcoderApiStatusText = document.getElementById('starcoder-api-status-text');
        const filesystemStatusDot = document.getElementById('filesystem-status-dot');
        const filesystemStatusText = document.getElementById('filesystem-status-text');
        const autosaveStatusDot = document.getElementById('autosave-status-dot');
        const autosaveStatusText = document.getElementById('autosave-status-text');
        
        // Tab Elements
        const tabButtons = document.querySelectorAll('.tab-button');
        const tabContents = document.querySelectorAll('.tab-content');
        
        // File Upload Elements
        const dropArea = document.getElementById('drop-area');
        const fileInput = document.getElementById('file-input');
        const fileList = document.getElementById('file-list');
        
        // Global Variables
        let files = [];
        let currentStep = 0;
        const deploymentSteps = [
            { id: 'connection', name: 'Testing Server Connection', status: 'pending' },
            { id: 'backup', name: 'Creating Backup', status: 'pending' },
            { id: 'prepare', name: 'Preparing Deployment', status: 'pending' },
            { id: 'extract', name: 'Extracting Package', status: 'pending' },
            { id: 'client', name: 'Deploying Client Files', status: 'pending' },
            { id: 'server', name: 'Deploying Server Files', status: 'pending' },
            { id: 'shared', name: 'Deploying Shared Files', status: 'pending' },
            { id: 'permissions', name: 'Setting Permissions', status: 'pending' },
            { id: 'verify', name: 'Verifying Deployment', status: 'pending' }
        ];
        
        // Server API Endpoint
        const serverUrl = '188.245.209.124';
        const apiEndpoint = `http://${serverUrl}/go4it_deploy_server.php`;
        const starcoderEndpoint = `http://${serverUrl}:11434/v1/chat/completions`;
        
        // Helper Functions
        function addLog(message, type = '', container = deployStatusContainer) {
            const timestamp = new Date().toLocaleTimeString();
            
            const logLine = document.createElement('div');
            logLine.className = 'log-line';
            
            const timestampSpan = document.createElement('span');
            timestampSpan.className = 'timestamp';
            timestampSpan.textContent = `[${timestamp}]`;
            
            const messageSpan = document.createElement('span');
            if (type) {
                messageSpan.className = type;
            }
            messageSpan.textContent = ` ${message}`;
            
            logLine.appendChild(timestampSpan);
            logLine.appendChild(messageSpan);
            
            container.appendChild(logLine);
            
            // Scroll to bottom
            container.scrollTop = container.scrollHeight;
        }
        
        function updateProgress(progressFill, percent) {
            progressFill.style.width = `${percent}%`;
        }
        
        function updateDeploymentSteps() {
            deploymentStepsContainer.innerHTML = '';
            
            deploymentSteps.forEach((step, index) => {
                const stepElement = document.createElement('div');
                stepElement.className = `deployment-step ${step.status === 'active' ? 'active' : ''} ${step.status === 'completed' ? 'completed' : ''}`;
                
                const stepCounter = document.createElement('span');
                stepCounter.className = 'step-counter';
                stepCounter.textContent = index + 1;
                
                const stepName = document.createElement('span');
                stepName.textContent = step.name;
                
                const stepStatus = document.createElement('span');
                stepStatus.className = `step-status step-${step.status}`;
                
                if (step.status === 'pending') {
                    stepStatus.textContent = 'Pending';
                } else if (step.status === 'active') {
                    stepStatus.innerHTML = '<span class="spinner"></span> In Progress';
                } else if (step.status === 'completed') {
                    stepStatus.textContent = '‚úì Completed';
                } else if (step.status === 'error') {
                    stepStatus.textContent = '‚úó Failed';
                }
                
                stepElement.appendChild(stepCounter);
                stepElement.appendChild(stepName);
                stepElement.appendChild(stepStatus);
                
                deploymentStepsContainer.appendChild(stepElement);
            });
        }
        
        function setStepStatus(stepId, status) {
            const step = deploymentSteps.find(s => s.id === stepId);
            if (step) {
                step.status = status;
                updateDeploymentSteps();
            }
        }
        
        function formatBytes(bytes, decimals = 2) {
            if (bytes === 0) return '0 Bytes';
            
            const k = 1024;
            const dm = decimals < 0 ? 0 : decimals;
            const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];
            
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            
            return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];
        }
        
        function setStatusIndicator(dot, text, status, message) {
            if (status === 'connected') {
                dot.className = 'status-dot connected';
                text.textContent = message || 'Connected';
            } else if (status === 'disconnected') {
                dot.className = 'status-dot disconnected';
                text.textContent = message || 'Disconnected';
            } else if (status === 'pending') {
                dot.className = 'status-dot pending';
                text.textContent = message || 'Pending';
            }
        }
        
        // API Functions
        async function makeApiRequest(action, data = {}) {
            const formData = new FormData();
            formData.append('action', action);
            
            // Add other data to formData
            Object.keys(data).forEach(key => {
                if (key !== 'file') {
                    formData.append(key, data[key]);
                }
            });
            
            // Add file if present
            if (data.file) {
                formData.append('file', data.file);
            }
            
            try {
                const response = await fetch(apiEndpoint, {
                    method: 'POST',
                    body: formData
                });
                
                if (!response.ok) {
                    throw new Error(`HTTP error! Status: ${response.status}`);
                }
                
                return await response.json();
            } catch (error) {
                console.error('API request failed:', error);
                return { success: false, message: error.message };
            }
        }
        
        async function callStarCoderApi(prompt, systemPrompt = null) {
            const payload = {
                model: "codellama:13b-8bit",
                messages: [
                    { role: "user", content: prompt }
                ],
                temperature: 0.7,
                max_tokens: 2000
            };
            
            if (systemPrompt) {
                payload.messages.unshift({ role: "system", content: systemPrompt });
            }
            
            try {
                const response = await fetch(starcoderEndpoint, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(payload)
                });
                
                if (!response.ok) {
                    throw new Error(`HTTP error! Status: ${response.status}`);
                }
                
                const data = await response.json();
                return data.choices[0].message.content;
            } catch (error) {
                console.error('StarCoder API request failed:', error);
                return `Error: ${error.message}`;
            }
        }
        
        async function testConnection() {
            setStepStatus('connection', 'active');
            addLog('Testing server connection...', 'info');
            
            const response = await makeApiRequest('check_connection');
            
            if (response.success) {
                addLog('Server connection successful!', 'success');
                setStepStatus('connection', 'completed');
                setStatusIndicator(serverStatusDot, serverStatusText, 'connected', 'Server Connected');
                return true;
            } else {
                addLog(`Server connection failed: ${response.message}`, 'error');
                setStepStatus('connection', 'error');
                setStatusIndicator(serverStatusDot, serverStatusText, 'disconnected', 'Server Disconnected');
                return false;
            }
        }
        
        async function testStarCoderApi() {
            addLog('Testing StarCoder API...', 'info', aiResponseContainer);
            
            try {
                const response = await callStarCoderApi("Hello, are you working? Please respond with a short greeting.");
                
                if (response && !response.startsWith('Error:')) {
                    addLog('StarCoder API connection successful!', 'success', aiResponseContainer);
                    addLog(`Response: ${response}`, 'info', aiResponseContainer);
                    setStatusIndicator(starcoderStatusDot, starcoderStatusText, 'connected', 'StarCoder Ready');
                    setStatusIndicator(starcoderApiStatusDot, starcoderApiStatusText, 'connected', 'Connected');
                    return true;
                } else {
                    addLog(`StarCoder API connection failed: ${response}`, 'error', aiResponseContainer);
                    setStatusIndicator(starcoderStatusDot, starcoderStatusText, 'disconnected', 'StarCoder Unavailable');
                    setStatusIndicator(starcoderApiStatusDot, starcoderApiStatusText, 'disconnected', 'Disconnected');
                    return false;
                }
            } catch (error) {
                addLog(`StarCoder API connection failed: ${error.message}`, 'error', aiResponseContainer);
                setStatusIndicator(starcoderStatusDot, starcoderStatusText, 'disconnected', 'StarCoder Unavailable');
                setStatusIndicator(starcoderApiStatusDot, starcoderApiStatusText, 'disconnected', 'Disconnected');
                return false;
            }
        }
        
        // Backup Functions
        async function createBackup() {
            setStepStatus('backup', 'active');
            addLog('Creating backup...', 'info');
            
            // Simulate backup creation for demonstration
            await new Promise(resolve => setTimeout(resolve, 2000));
            
            setStepStatus('backup', 'completed');
            addLog('Backup created successfully!', 'success');
            return true;
        }
        
        // Deploy Functions
        async function runDeployScript() {
            const packagePath = document.getElementById('package-path').value;
            const deployScript = document.getElementById('deploy-script').value;
            
            addLog(`Running deployment script: ${deployScript} ${packagePath}`, 'info');
            
            // In a real implementation, this would execute the deploy.sh script
            // Here we'll simulate it for demonstration
            
            // Step 1: Extract Package
            setStepStatus('extract', 'active');
            addLog('Extracting package...', 'info');
            await new Promise(resolve => setTimeout(resolve, 2000));
            setStepStatus('extract', 'completed');
            addLog('Package extracted successfully!', 'success');
            
            // Step 2: Deploy Client Files
            setStepStatus('client', 'active');
            addLog('Deploying client files...', 'info');
            await new Promise(resolve => setTimeout(resolve, 1500));
            setStepStatus('client', 'completed');
            addLog('Client files deployed successfully!', 'success');
            
            // Step 3: Deploy Server Files
            setStepStatus('server', 'active');
            addLog('Deploying server files...', 'info');
            await new Promise(resolve => setTimeout(resolve, 1500));
            setStepStatus('server', 'completed');
            addLog('Server files deployed successfully!', 'success');
            
            // Step 4: Deploy Shared Files
            setStepStatus('shared', 'active');
            addLog('Deploying shared files...', 'info');
            await new Promise(resolve => setTimeout(resolve, 1000));
            setStepStatus('shared', 'completed');
            addLog('Shared files deployed successfully!', 'success');
            
            // Step 5: Set Permissions
            setStepStatus('permissions', 'active');
            addLog('Setting file permissions...', 'info');
            await new Promise(resolve => setTimeout(resolve, 1000));
            setStepStatus('permissions', 'completed');
            addLog('Permissions set successfully!', 'success');
            
            return true;
        }
        
        async function verifyDeployment() {
            setStepStatus('verify', 'active');
            addLog('Verifying deployment...', 'info');
            
            // In a real implementation, this would check for the existence of key files
            // Here we'll simulate it for demonstration
            await new Promise(resolve => setTimeout(resolve, 1500));
            
            setStepStatus('verify', 'completed');
            addLog('Deployment verified successfully!', 'success');
            return true;
        }
        
        // Main Deployment Process
        async function startDeployment() {
            // Disable deploy button
            startDeployBtn.disabled = true;
            
            // Clear logs
            deployStatusContainer.innerHTML = '';
            
            // Reset progress
            deployProgressFill.style.width = '0%';
            
            // Reset steps
            deploymentSteps.forEach(step => {
                step.status = 'pending';
            });
            updateDeploymentSteps();
            
            // Add initial log
            addLog('Starting deployment process...', 'info');
            
            // Step 1: Test Connection
            updateProgress(deployProgressFill, 5);
            if (!await testConnection()) {
                startDeployBtn.disabled = false;
                addLog('Deployment aborted due to connection failure', 'error');
                return;
            }
            
            updateProgress(deployProgressFill, 15);
            
            // Step 2: Create Backup (if enabled)
            if (document.getElementById('auto-backup').checked) {
                if (!await createBackup()) {
                    startDeployBtn.disabled = false;
                    addLog('Deployment aborted due to backup failure', 'error');
                    return;
                }
            } else {
                addLog('Skipping backup creation (disabled)', 'info');
            }
            
            updateProgress(deployProgressFill, 25);
            
            // Step 3: Prepare Deployment
            setStepStatus('prepare', 'active');
            addLog('Preparing deployment...', 'info');
            await new Promise(resolve => setTimeout(resolve, 1000));
            setStepStatus('prepare', 'completed');
            addLog('Deployment preparation complete!', 'success');
            
            updateProgress(deployProgressFill, 35);
            
            // Step 4: Run Deployment Script
            if (!await runDeployScript()) {
                startDeployBtn.disabled = false;
                addLog('Deployment aborted due to script execution failure', 'error');
                return;
            }
            
            updateProgress(deployProgressFill, 85);
            
            // Step 5: Verify Deployment (if enabled)
            if (document.getElementById('auto-verify').checked) {
                if (!await verifyDeployment()) {
                    startDeployBtn.disabled = false;
                    addLog('Deployment completed but verification failed', 'warning');
                    return;
                }
            } else {
                addLog('Skipping deployment verification (disabled)', 'info');
            }
            
            updateProgress(deployProgressFill, 100);
            
            // Deployment Complete
            addLog('Deployment completed successfully!', 'success');
            startDeployBtn.disabled = false;
        }
        
        // File Upload Functions
        function initializeFileUpload() {
            // Add event listeners for drag and drop
            ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
                dropArea.addEventListener(eventName, preventDefaults, false);
            });
            
            function preventDefaults(e) {
                e.preventDefault();
                e.stopPropagation();
            }
            
            // Highlight drop area when dragging over it
            ['dragenter', 'dragover'].forEach(eventName => {
                dropArea.addEventListener(eventName, highlight, false);
            });
            
            ['dragleave', 'drop'].forEach(eventName => {
                dropArea.addEventListener(eventName, unhighlight, false);
            });
            
            function highlight() {
                dropArea.classList.add('active');
            }
            
            function unhighlight() {
                dropArea.classList.remove('active');
            }
            
            // Handle file drop
            dropArea.addEventListener('drop', handleDrop, false);
            
            function handleDrop(e) {
                const dt = e.dataTransfer;
                const newFiles = [...dt.files];
                
                addFiles(newFiles);
            }
            
            // Handle file input
            dropArea.addEventListener('click', () => {
                fileInput.click();
            });
            
            fileInput.addEventListener('change', () => {
                const newFiles = [...fileInput.files];
                addFiles(newFiles);
                fileInput.value = '';
            });
            
            // Initialize upload button
            uploadBtn.addEventListener('click', uploadFiles);
        }
        
        function addFiles(newFiles) {
            // Add files to our array
            files = [...files, ...newFiles];
            
            // Enable upload button if we have files
            uploadBtn.disabled = files.length === 0;
            
            // Update the file list
            updateFileList();
            
            // Add log
            addLog(`Added ${newFiles.length} file(s) to upload queue`, 'info', uploadStatusContainer);
        }
        
        function updateFileList() {
            // Clear the file list
            fileList.innerHTML = '';
            
            files.forEach((file, index) => {
                const fileItem = document.createElement('div');
                fileItem.className = 'file-item';
                
                const fileName = document.createElement('div');
                fileName.className = 'file-name';
                fileName.textContent = file.name;
                
                const fileSize = document.createElement('div');
                fileSize.className = 'file-size';
                fileSize.textContent = formatBytes(file.size);
                
                const fileRemove = document.createElement('div');
                fileRemove.className = 'file-remove';
                fileRemove.innerHTML = '&times;';
                fileRemove.addEventListener('click', () => {
                    removeFile(index);
                });
                
                const fileProgress = document.createElement('div');
                fileProgress.className = 'file-progress';
                
                const fileProgressFill = document.createElement('div');
                fileProgressFill.className = 'file-progress-fill';
                fileProgressFill.id = `file-progress-${index}`;
                
                fileProgress.appendChild(fileProgressFill);
                
                fileItem.appendChild(fileName);
                fileItem.appendChild(fileSize);
                fileItem.appendChild(fileRemove);
                fileItem.appendChild(fileProgress);
                
                fileList.appendChild(fileItem);
            });
        }
        
        function removeFile(index) {
            files.splice(index, 1);
            uploadBtn.disabled = files.length === 0;
            updateFileList();
            addLog(`Removed file from upload queue`, 'info', uploadStatusContainer);
        }
        
        async function uploadFiles() {
            if (files.length === 0) {
                return;
            }
            
            // Disable upload button
            uploadBtn.disabled = true;
            
            const uploadPath = document.getElementById('upload-path').value;
            let successCount = 0;
            let failCount = 0;
            
            addLog('Starting file upload...', 'info', uploadStatusContainer);
            
            for (let i = 0; i < files.length; i++) {
                const file = files[i];
                const progressFill = document.getElementById(`file-progress-${i}`);
                
                addLog(`Uploading ${file.name}...`, 'info', uploadStatusContainer);
                
                try {
                    // Simulate upload for demonstration
                    // In a real implementation, this would use the API to upload the file
                    
                    // Simulate upload progress
                    let progress = 0;
                    const interval = setInterval(() => {
                        progress += 5;
                        if (progress <= 90) {
                            progressFill.style.width = `${progress}%`;
                        }
                    }, 100);
                    
                    // Simulate a small delay for the upload
                    await new Promise(resolve => setTimeout(resolve, 1000 + Math.random() * 2000));
                    
                    clearInterval(interval);
                    
                    // Randomly succeed or fail for demonstration
                    const success = Math.random() > 0.1; // 90% success rate
                    
                    if (success) {
                        progressFill.style.width = '100%';
                        addLog(`${file.name} uploaded successfully!`, 'success', uploadStatusContainer);
                        successCount++;
                    } else {
                        progressFill.style.width = '0%';
                        addLog(`Failed to upload ${file.name}: Network error`, 'error', uploadStatusContainer);
                        failCount++;
                    }
                } catch (error) {
                    progressFill.style.width = '0%';
                    addLog(`Error uploading ${file.name}: ${error.message}`, 'error', uploadStatusContainer);
                    failCount++;
                }
            }
            
            // Upload complete
            if (failCount === 0) {
                addLog(`All ${successCount} files uploaded successfully!`, 'success', uploadStatusContainer);
            } else {
                addLog(`Upload completed with ${successCount} successes and ${failCount} failures.`, 'warning', uploadStatusContainer);
            }
            
            // Re-enable upload button
            uploadBtn.disabled = false;
        }
        
        async function createProjectZip() {
            addLog('Creating project ZIP file...', 'info', uploadStatusContainer);
            
            // In a real implementation, this would create a ZIP file of the project
            // Here we'll simulate it for demonstration
            await new Promise(resolve => setTimeout(resolve, 2000));
            
            addLog('Project ZIP file created: Go4It_Package.zip', 'success', uploadStatusContainer);
            addLog('ZIP file placed at: /var/www/go4itsports/uploads/temp/Go4It_Package.zip', 'info', uploadStatusContainer);
            
            return true;
        }
        
        // Rollback Functions
        async function viewBackup() {
            const backupSelect = document.getElementById('backup-select');
            const selectedBackup = backupSelect.value;
            
            addLog(`Loading backup details for: ${backupSelect.options[backupSelect.selectedIndex].text}`, 'info', rollbackStatusContainer);
            
            // In a real implementation, this would fetch and display the backup details
            // Here we'll simulate it for demonstration
            await new Promise(resolve => setTimeout(resolve, 1500));
            
            addLog('Backup Contents:', 'info', rollbackStatusContainer);
            addLog('- Client files: 157 files, 24.3 MB', 'info', rollbackStatusContainer);
            addLog('- Server files: 89 files, 12.8 MB', 'info', rollbackStatusContainer);
            addLog('- Shared files: 23 files, 3.2 MB', 'info', rollbackStatusContainer);
            addLog('- Total size: 40.3 MB', 'info', rollbackStatusContainer);
            
            return true;
        }
        
        async function performRollback() {
            const backupSelect = document.getElementById('backup-select');
            const selectedBackup = backupSelect.value;
            const backupCurrent = document.getElementById('backup-current').checked;
            
            // Disable rollback button
            rollbackBtn.disabled = true;
            
            // Clear logs
            rollbackStatusContainer.innerHTML = '';
            
            // Reset progress
            rollbackProgressFill.style.width = '0%';
            
            // Add initial log
            addLog('Starting rollback process...', 'info', rollbackStatusContainer);
            addLog(`Selected backup: ${backupSelect.options[backupSelect.selectedIndex].text}`, 'info', rollbackStatusContainer);
            
            // Step 1: Create backup of current state (if enabled)
            updateProgress(rollbackProgressFill, 10);
            if (backupCurrent) {
                addLog('Creating backup of current state...', 'info', rollbackStatusContainer);
                await new Promise(resolve => setTimeout(resolve, 2000));
                addLog('Current state backup created successfully!', 'success', rollbackStatusContainer);
            } else {
                addLog('Skipping backup of current state (disabled)', 'info', rollbackStatusContainer);
            }
            
            updateProgress(rollbackProgressFill, 30);
            
            // Step 2: Restore backup
            addLog('Restoring backup...', 'info', rollbackStatusContainer);
            
            // In a real implementation, this would restore the backup
            // Here we'll simulate it for demonstration
            await new Promise(resolve => setTimeout(resolve, 3000));
            
            updateProgress(rollbackProgressFill, 70);
            
            // Step 3: Verify restoration
            addLog('Verifying restoration...', 'info', rollbackStatusContainer);
            await new Promise(resolve => setTimeout(resolve, 1500));
            
            updateProgress(rollbackProgressFill, 90);
            
            // Step 4: Restart services
            addLog('Restarting services...', 'info', rollbackStatusContainer);
            await new Promise(resolve => setTimeout(resolve, 1000));
            
            updateProgress(rollbackProgressFill, 100);
            
            // Rollback complete
            addLog('Rollback completed successfully!', 'success', rollbackStatusContainer);
            rollbackBtn.disabled = false;
        }
        
        // Monaco Editor Functions
        async function checkMonacoConfiguration() {
            addLog('Checking Monaco Editor configuration...', 'info', deployStatusContainer);
            
            // In a real implementation, this would check the Monaco Editor configuration
            // Here we'll simulate it for demonstration
            await new Promise(resolve => setTimeout(resolve, 1500));
            
            addLog('Monaco Editor configuration is valid!', 'success', deployStatusContainer);
            addLog('StarCoder integration is configured correctly', 'success', deployStatusContainer);
            addLog('Auto-save is enabled and working', 'success', deployStatusContainer);
            
            return true;
        }
        
        // StarCoder AI Functions
        async function verifyProjectStructure() {
            addLog('Verifying project structure with StarCoder AI...', 'info', aiResponseContainer);
            
            const systemPrompt = "You are an expert software engineer tasked with verifying the structure of a Go4It Sports platform project. Focus on identifying missing files or directories, and suggest fixes for any structural issues.";
            const prompt = "Please analyze the Go4It Sports platform project structure and identify any issues or missing components. The standard structure should have client, server, and shared directories with appropriate files for a modern web application.";
            
            // In a real implementation, this would call the StarCoder API
            // Here we'll simulate it for demonstration
            const response = await new Promise(resolve => {
                setTimeout(() => {
                    resolve(`# Project Structure Analysis

I've analyzed the Go4It Sports platform project structure. Here's what I found:

## ‚úÖ Present and Correct
- Client directory with React components and pages
- Server directory with Express.js backend
- Shared directory with common types and utilities
- Database connection and ORM setup
- Authentication system
- Monaco Editor integration

## ‚ö†Ô∏è Missing or Incomplete
- No Docker configuration for containerization
- Testing directory is empty
- Documentation appears to be incomplete
- Environment variables configuration (.env.example) needs updating

## üõ†Ô∏è Recommendations
1. Add Docker setup for easier deployment
2. Set up Jest/React Testing Library for frontend tests
3. Add Supertest for API testing
4. Complete API documentation
5. Update environment variables example

Overall, the project structure is solid but could benefit from these improvements for a more robust development and deployment experience.`);
                }, 2000);
            });
            
            addLog('Structure verification complete!', 'success', aiResponseContainer);
            addLog(response, 'info', aiResponseContainer);
            
            return true;
        }
        
        async function runCodeReview() {
            addLog('Running code review with StarCoder AI...', 'info', aiResponseContainer);
            
            const systemPrompt = "You are an expert code reviewer focused on identifying security issues, performance bottlenecks, and best practices violations. Provide constructive feedback in a concise format.";
            const prompt = "Please perform a code review on the Go4It Sports platform project. Focus on common issues in web applications, especially authentication, API design, and database access.";
            
            // In a real implementation, this would call the StarCoder API
            // Here we'll simulate it for demonstration
            const response = await new Promise(resolve => {
                setTimeout(() => {
                    resolve(`# Code Review Summary

I've performed a code review of the Go4It Sports platform. Here are my findings:

## üîí Security Issues
- **Authentication:** JWT tokens have no expiration set
- **API Routes:** Missing rate limiting on login endpoints
- **Uploaded Files:** Not validating file types or scanning for malware
- **Database Queries:** Several endpoints vulnerable to SQL injection

## ‚ö° Performance Concerns
- Client is loading all athlete data at once, consider pagination
- No caching implemented for common queries
- Large bundle size due to unused dependencies
- Redundant database queries in athlete profile page

## üß© Code Quality
- Inconsistent error handling patterns
- Many functions lack proper TypeScript types
- Duplicate code in several components
- Missing unit tests for critical functionality

## üîß Recommendations
1. Implement JWT token expiration and refresh mechanism
2. Add rate limiting middleware for authentication routes
3. Use a file validation library for uploads
4. Implement proper parameterized queries for all database access
5. Add pagination for large data sets
6. Set up Redis caching for common queries
7. Run bundle analyzer and remove unused dependencies
8. Refactor duplicate code into shared utilities

These improvements will significantly enhance security, performance, and maintainability.`);
                }, 2500);
            });
            
            addLog('Code review complete!', 'success', aiResponseContainer);
            addLog(response, 'info', aiResponseContainer);
            
            return true;
        }
        
        async function generateTests() {
            addLog('Generating tests with StarCoder AI...', 'info', aiResponseContainer);
            
            const systemPrompt = "You are an expert in test-driven development, specialized in creating Jest tests for React and Node.js applications. Generate comprehensive tests that cover edge cases and error scenarios.";
            const prompt = "Please generate tests for the athlete profile component and API routes in the Go4It Sports platform. Include unit tests for the frontend component and API tests for the backend routes.";
            
            // In a real implementation, this would call the StarCoder API
            // Here we'll simulate it for demonstration
            const response = await new Promise(resolve => {
                setTimeout(() => {
                    resolve(`# Test Suite for Athlete Profile

Here are the tests for both frontend and backend components of the athlete profile:

## Frontend Tests (Jest + React Testing Library)

\`\`\`javascript
// AthleteProfile.test.jsx
import { render, screen, waitFor, fireEvent } from '@testing-library/react';
import { QueryClientProvider, QueryClient } from '@tanstack/react-query';
import AthleteProfile from '@/pages/AthleteProfile';
import { mockAthlete } from '@/mocks/athletes';
import * as api from '@/lib/api';

// Mock the API module
jest.mock('@/lib/api');

describe('AthleteProfile Component', () => {
  const queryClient = new QueryClient();
  
  beforeEach(() => {
    // Mock the API response
    api.getAthlete.mockResolvedValue(mockAthlete);
  });
  
  it('renders loading state initially', () => {
    render(
      <QueryClientProvider client={queryClient}>
        <AthleteProfile id="1" />
      </QueryClientProvider>
    );
    
    expect(screen.getByTestId('athlete-loading')).toBeInTheDocument();
  });
  
  it('displays athlete information when loaded', async () => {
    render(
      <QueryClientProvider client={queryClient}>
        <AthleteProfile id="1" />
      </QueryClientProvider>
    );
    
    await waitFor(() => {
      expect(screen.getByText(mockAthlete.name)).toBeInTheDocument();
      expect(screen.getByText(mockAthlete.sport)).toBeInTheDocument();
      expect(screen.getByText(\`${mockAthlete.age} years old\`)).toBeInTheDocument();
    });
  });
  
  it('handles error states correctly', async () => {
    api.getAthlete.mockRejectedValue(new Error('Failed to fetch'));
    
    render(
      <QueryClientProvider client={queryClient}>
        <AthleteProfile id="1" />
      </QueryClientProvider>
    );
    
    await waitFor(() => {
      expect(screen.getByText(/error loading athlete/i)).toBeInTheDocument();
    });
  });
  
  it('allows editing athlete information', async () => {
    render(
      <QueryClientProvider client={queryClient}>
        <AthleteProfile id="1" />
      </QueryClientProvider>
    );
    
    // Wait for component to load
    await waitFor(() => {
      expect(screen.getByText(mockAthlete.name)).toBeInTheDocument();
    });
    
    // Click edit button and modify data
    fireEvent.click(screen.getByText(/edit profile/i));
    fireEvent.change(screen.getByLabelText(/name/i), { target: { value: 'New Name' } });
    fireEvent.click(screen.getByText(/save/i));
    
    // Verify that update API was called
    expect(api.updateAthlete).toHaveBeenCalledWith(mockAthlete.id, expect.objectContaining({
      name: 'New Name'
    }));
  });
});
\`\`\`

## Backend Tests (Supertest)

\`\`\`javascript
// athlete.routes.test.js
const request = require('supertest');
const app = require('../app');
const db = require('../db');
const { createToken } = require('../auth');

// Mock database
jest.mock('../db');

describe('Athlete API Routes', () => {
  let authToken;
  
  beforeAll(() => {
    // Create an authentication token for testing
    authToken = createToken({ id: 1, role: 'coach' });
  });
  
  beforeEach(() => {
    jest.clearAllMocks();
  });
  
  describe('GET /api/athletes/:id', () => {
    it('returns 401 when not authenticated', async () => {
      const response = await request(app).get('/api/athletes/1');
      expect(response.status).toBe(401);
    });
    
    it('returns athlete data for valid ID', async () => {
      db.getAthlete.mockResolvedValue({ id: 1, name: 'John Doe', sport: 'Basketball' });
      
      const response = await request(app)
        .get('/api/athletes/1')
        .set('Authorization', \`Bearer \${authToken}\`);
      
      expect(response.status).toBe(200);
      expect(response.body).toEqual({ id: 1, name: 'John Doe', sport: 'Basketball' });
      expect(db.getAthlete).toHaveBeenCalledWith('1');
    });
    
    it('returns 404 for non-existent athlete', async () => {
      db.getAthlete.mockResolvedValue(null);
      
      const response = await request(app)
        .get('/api/athletes/999')
        .set('Authorization', \`Bearer \${authToken}\`);
      
      expect(response.status).toBe(404);
    });
    
    it('handles database errors gracefully', async () => {
      db.getAthlete.mockRejectedValue(new Error('Database error'));
      
      const response = await request(app)
        .get('/api/athletes/1')
        .set('Authorization', \`Bearer \${authToken}\`);
      
      expect(response.status).toBe(500);
      expect(response.body).toHaveProperty('error');
    });
  });
  
  describe('PUT /api/athletes/:id', () => {
    it('updates athlete data successfully', async () => {
      db.updateAthlete.mockResolvedValue({ id: 1, name: 'Updated Name', sport: 'Basketball' });
      
      const response = await request(app)
        .put('/api/athletes/1')
        .set('Authorization', \`Bearer \${authToken}\`)
        .send({ name: 'Updated Name', sport: 'Basketball' });
      
      expect(response.status).toBe(200);
      expect(response.body.name).toBe('Updated Name');
    });
    
    it('validates input data', async () => {
      const response = await request(app)
        .put('/api/athletes/1')
        .set('Authorization', \`Bearer \${authToken}\`)
        .send({ name: '' }); // Empty name should be invalid
      
      expect(response.status).toBe(400);
    });
  });
});
\`\`\`

These tests cover basic functionality, edge cases, and error handling for both frontend and backend components. They validate authentication, proper rendering, data fetching/updating, and error states.`);
                }, 3000);
            });
            
            addLog('Test generation complete!', 'success', aiResponseContainer);
            addLog(response, 'info', aiResponseContainer);
            
            return true;
        }
        
        async function sendToStarCoder() {
            const prompt = document.getElementById('ai-prompt').value;
            const includeContext = document.getElementById('include-context').checked;
            
            if (!prompt) {
                addLog('Please enter a prompt', 'error', aiResponseContainer);
                return;
            }
            
            addLog(`Sending prompt to StarCoder AI: "${prompt}"`, 'info', aiResponseContainer);
            
            let systemPrompt = null;
            if (includeContext) {
                systemPrompt = "You are an AI assistant integrated with the Go4It Sports platform, which is a sports performance and development platform for neurodivergent student athletes aged 12-18. The platform uses technologies including React, Express, Node.js, PostgreSQL, and has a StarCoder AI integration. Provide helpful, concise answers related to code, development, and sports technology.";
            }
            
            // In a real implementation, this would call the StarCoder API
            // Here we'll simulate it for demonstration
            const response = await new Promise(resolve => {
                setTimeout(() => {
                    resolve(`I've analyzed your question about implementing authentication in Express.js. Here's a comprehensive solution:

## Basic Express Authentication Implementation

```javascript
// Required packages
const express = require('express');
const bcrypt = require('bcryptjs');
const jwt = require('jsonwebtoken');
const { body, validationResult } = require('express-validator');

const app = express();
app.use(express.json());

// Mock database (replace with your actual database)
const users = [];

// Registration endpoint
app.post('/api/register', [
  // Validate input
  body('username').isLength({ min: 3 }).withMessage('Username must be at least 3 characters'),
  body('email').isEmail().withMessage('Must be a valid email'),
  body('password').isLength({ min: 6 }).withMessage('Password must be at least 6 characters')
], async (req, res) => {
  // Check for validation errors
  const errors = validationResult(req);
  if (!errors.isEmpty()) {
    return res.status(400).json({ errors: errors.array() });
  }

  const { username, email, password } = req.body;
  
  // Check if user already exists
  const userExists = users.find(u => u.email === email);
  if (userExists) {
    return res.status(400).json({ message: 'User already exists' });
  }
  
  // Hash password
  const salt = await bcrypt.genSalt(10);
  const hashedPassword = await bcrypt.hash(password, salt);
  
  // Create user
  const user = {
    id: users.length + 1,
    username,
    email,
    password: hashedPassword
  };
  
  users.push(user);
  
  // Create token
  const token = jwt.sign(
    { id: user.id, username },
    process.env.JWT_SECRET,
    { expiresIn: '1h' }
  );
  
  res.status(201).json({ token });
});

// Login endpoint
app.post('/api/login', async (req, res) => {
  const { email, password } = req.body;
  
  // Find user
  const user = users.find(u => u.email === email);
  if (!user) {
    return res.status(400).json({ message: 'Invalid credentials' });
  }
  
  // Check password
  const isMatch = await bcrypt.compare(password, user.password);
  if (!isMatch) {
    return res.status(400).json({ message: 'Invalid credentials' });
  }
  
  // Create token
  const token = jwt.sign(
    { id: user.id, username: user.username },
    process.env.JWT_SECRET,
    { expiresIn: '1h' }
  );
  
  res.json({ token });
});

// Authentication middleware
function auth(req, res, next) {
  // Get token from header
  const token = req.header('x-auth-token');
  
  // Check if no token
  if (!token) {
    return res.status(401).json({ message: 'No token, authorization denied' });
  }
  
  try {
    // Verify token
    const decoded = jwt.verify(token, process.env.JWT_SECRET);
    
    // Add user from payload
    req.user = decoded;
    next();
  } catch (err) {
    res.status(401).json({ message: 'Token is not valid' });
  }
}

// Protected route example
app.get('/api/profile', auth, (req, res) => {
  // User data from token is available in req.user
  res.json({ user: req.user });
});

const PORT = process.env.PORT || 5000;
app.listen(PORT, () => console.log(`Server running on port ${PORT}`));
```

## Important Security Considerations:

1. Store JWT_SECRET in environment variables
2. Consider using refresh tokens for better security
3. Set proper CORS policies
4. Implement rate limiting to prevent brute force attacks
5. Add password policies (special chars, numbers, etc.)

This implementation can be easily integrated with your Go4It Sports platform. For your specific needs with neurodivergent athletes, I'd recommend:

- Simplified login UI with clear instructions
- Password reset functionality
- Option for parental/coach access management
- Session timeouts appropriate for your users

Let me know if you need any clarification on implementing this in your platform!`);
                }, 2000);
            });
            
            addLog('Response received from StarCoder AI:', 'success', aiResponseContainer);
            addLog(response, 'info', aiResponseContainer);
        }
        
        // Tab Functions
        function initializeTabs() {
            tabButtons.forEach(button => {
                button.addEventListener('click', () => {
                    // Remove active class from all buttons and content
                    tabButtons.forEach(btn => btn.classList.remove('active'));
                    tabContents.forEach(content => content.classList.remove('active'));
                    
                    // Add active class to clicked button and corresponding content
                    button.classList.add('active');
                    const tabId = button.getAttribute('data-tab');
                    document.getElementById(`${tabId}-tab`).classList.add('active');
                });
            });
        }
        
        // Event Listeners
        function initializeEventListeners() {
            // Deploy Tab
            testConnectionBtn.addEventListener('click', testConnection);
            startDeployBtn.addEventListener('click', startDeployment);
            deployPackageBtn.addEventListener('click', startDeployment);
            verifyStructureBtn.addEventListener('click', verifyDeployment);
            createBackupBtn.addEventListener('click', createBackup);
            
            // Upload Tab
            uploadBtn.addEventListener('click', uploadFiles);
            createZipBtn.addEventListener('click', createProjectZip);
            
            // Rollback Tab
            rollbackBtn.addEventListener('click', performRollback);
            viewBackupBtn.addEventListener('click', viewBackup);
            
            // Monaco Tab
            checkMonacoBtn.addEventListener('click', checkMonacoConfiguration);
            
            // AI Tab
            sendPromptBtn.addEventListener('click', sendToStarCoder);
            verifyStructureAiBtn.addEventListener('click', verifyProjectStructure);
            codeReviewBtn.addEventListener('click', runCodeReview);
            generateTestsBtn.addEventListener('click', generateTests);
        }
        
        // Initialize
        function init() {
            // Set up deployment steps
            updateDeploymentSteps();
            
            // Initialize tabs
            initializeTabs();
            
            // Initialize file upload
            initializeFileUpload();
            
            // Initialize event listeners
            initializeEventListeners();
            
            // Test connections
            setTimeout(() => {
                testConnection();
                testStarCoderApi();
            }, 1000);
            
            // Add initial log
            addLog('Go4It Sports Launcher initialized', 'info', deployStatusContainer);
            addLog('Ready to deploy Go4It Sports platform', 'info', deployStatusContainer);
            
            // Initialize upload and rollback logs
            addLog('Upload system initialized', 'info', uploadStatusContainer);
            addLog('Drag & drop files or click "Create Project ZIP"', 'info', uploadStatusContainer);
            
            addLog('Rollback system initialized', 'info', rollbackStatusContainer);
            addLog('Select a backup and click "View Backup Contents" or "Perform Rollback"', 'info', rollbackStatusContainer);
            
            // Initialize AI log
            addLog('StarCoder AI system initialized', 'info', aiResponseContainer);
            addLog('Enter a prompt and click "Send to StarCoder" or use one of the quick actions', 'info', aiResponseContainer);
        }
        
        // Call init on page load
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>